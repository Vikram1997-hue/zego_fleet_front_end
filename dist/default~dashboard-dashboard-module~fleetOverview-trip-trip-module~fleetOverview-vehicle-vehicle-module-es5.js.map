{"version":3,"sources":["webpack:///node_modules/chart.js/helpers/helpers.esm.js","webpack:///node_modules/chart.js/dist/helpers.esm.js","webpack:///node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.esm.js","webpack:///node_modules/hammerjs/hammer.js"],"names":["getModifierKey","opts","enabled","modifierKey","keyPressed","key","event","keyNotPressed","directionEnabled","mode","dir","chart","undefined","indexOf","debounce","fn","delay","timeout","clearTimeout","setTimeout","getScaleUnderPoint","x","y","scales","scaleIds","Object","keys","i","length","scale","top","bottom","left","right","getEnabledScalesByPoint","point","axis","enabledScales","scaleItem","push","chartStates","WeakMap","getState","state","get","originalScaleLimits","updatedScaleLimits","handlers","panDelta","set","removeState","zoomDelta","zoom","center","range","max","min","newRange","centerPoint","isHorizontal","minPercent","Math","getValueForPixel","maxPercent","getLimit","scaleLimits","prop","fallback","limit","original","id","options","updateRange","limits","scaleOpts","minRange","minLimit","Infinity","maxLimit","cmin","cmax","offset","parse","zoomNumericalScale","delta","integerChange","v","isNaN","round","existCategoryFromMaxZoom","labels","getLabels","maxIndex","zoomCategoryScale","scaleLength","width","height","panCategoryScale","lastLabelIndex","stepDelta","stepSize","abs","applied","OFFSETS","second","minute","hour","day","week","month","quarter","year","panNumericalScale","canZoom","prevStart","prevEnd","time","newMin","getPixelForValue","newMax","panNonLinearScale","zoomFunctions","category","panFunctions","logarithmic","timeseries","shouldUpdateScaleLimits","previous","removeMissingScales","opt","storeOriginalScaleLimits","doZoom","amount","type","getCenter","ca","chartArea","transition","focalPoint","zoomOptions","overScaleMode","xEnabled","yEnabled","update","onZoom","getRange","pixel0","pixel1","v0","v1","zoomRect","p0","p1","zoomScale","scaleId","resetZoom","scaleOptions","onZoomComplete","getOriginalRange","getZoomLevel","origRange","level","panScale","storedDelta","pan","panOptions","onPan","getInitialScaleBounds","scaleBounds","isZoomedOrPanned","originalMin","originalMax","removeHandler","handler","target","removeEventListener","addHandler","addEventListener","mouseMove","dragStart","dragging","dragEnd","zoomStart","onZoomStart","onZoomRejected","getBoundingClientRect","offsetX","offsetY","clientX","clientY","mouseDown","drag","canvas","computeDragRect","beginPoint","endPoint","chartWidth","chartHeight","zoomX","zoomY","mouseUp","threshold","rect","distanceX","distanceY","distance","sqrt","wheelPreconditions","wheel","cancelable","preventDefault","deltaY","speed","addDebouncedHandler","name","addListeners","wheelOptions","dragOptions","ownerDocument","removeListeners","createEnabler","recognizer","srcEvent","panning","pointerType","onPanRejected","pinchAxes","pinchX","pinchY","p","handlePinch","e","pointers","zoomPercent","pinch","startPinch","endPinch","handlePan","deltaX","panScales","startPan","onPanStart","panEndTimeout","endPan","onPanComplete","hammers","startHammer","mc","Manager","add","Pinch","on","Pan","enable","stopHammer","remove","destroy","version","plugin","defaults","start","_args","prototype","hasOwnProperty","call","console","warn","args","beforeEvent","beforeUpdate","beforeDatasetsDraw","ctx","save","beginPath","fillStyle","backgroundColor","fillRect","borderWidth","lineWidth","strokeStyle","borderColor","strokeRect","restore","stop","window","document","exportName","VENDOR_PREFIXES","TEST_ELEMENT","createElement","TYPE_FUNCTION","now","Date","setTimeoutContext","context","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","forEach","deprecate","method","message","deprecationMessage","Error","stack","replace","log","apply","arguments","assign","TypeError","output","index","source","nextKey","extend","dest","src","merge","inherit","child","base","properties","baseP","childP","create","constructor","_super","boundFn","boolOrFn","val","ifUndefined","val1","val2","addEventListeners","types","splitStr","removeEventListeners","hasParent","node","parent","parentNode","inStr","str","find","trim","split","inArray","findByKey","toArray","slice","uniqueArray","sort","results","values","sortUniqueArray","a","b","prefixed","property","prefix","camelProp","toUpperCase","_uniqueId","uniqueId","getWindowForElement","element","doc","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","test","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","self","inputTarget","domHandler","ev","init","evEl","evTarget","evWin","createInputInstance","Type","inputClass","PointerEventInput","TouchInput","MouseInput","TouchMouseInput","inputHandler","eventType","input","pointersLen","changedPointersLen","changedPointers","isFirst","isFinal","session","computeInputData","emit","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","timeStamp","deltaTime","angle","getAngle","getDistance","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","offsetDelta","prevDelta","last","lastInterval","velocity","velocityX","velocityY","direction","p2","props","atan2","PI","end","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","pressed","MEhandler","button","which","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","MSPointerEvent","PointerEvent","store","pointerEvents","PEhandler","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","TEhandler","touches","normalizeSingleTouches","all","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","targetIds","MTEhandler","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","mouse","primaryTouch","lastTouches","TMEhandler","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","recordTouches","isSyntheticEvent","eventData","setLastTouch","lastTouch","lts","removeLastTouch","t","dx","dy","PREFIXED_TOUCH_ACTION","style","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","value","compute","actions","touchAction","recognizers","getTouchAction","cleanTouchActions","join","preventDefaults","prevented","hasNone","hasPanY","hasPanX","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","touchMap","cssSupports","CSS","supports","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","simultaneous","requireFail","recognizeWith","otherRecognizer","getRecognizerByNameIfManager","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","stateStr","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","directionStr","AttrRecognizer","attrTest","optionPointers","isRecognized","isValid","PanRecognizer","pX","pY","directionTest","hasMoved","PinchRecognizer","inOut","PressRecognizer","_timer","_input","validPointers","validMovement","validTime","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","Hammer","preset","VERSION","domEvents","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","oldCssProps","toggleCssProps","item","force","stopped","curRecognizer","existing","events","off","data","triggerDomEvent","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","Tap","Swipe","Rotate","Press","freeGlobal"],"mappings":";;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;A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","file":"default~dashboard-dashboard-module~fleetOverview-trip-trip-module~fleetOverview-vehicle-vehicle-module-es5.js","sourcesContent":["export * from '../dist/helpers.esm';\n","/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nexport { H as HALF_PI, aX as INFINITY, P as PI, aW as PITAU, aZ as QUARTER_PI, aY as RAD_PER_DEG, T as TAU, a_ as TWO_THIRDS_PI, Q as _addGrace, V as _alignPixel, a0 as _alignStartEnd, p as _angleBetween, a$ as _angleDiff, _ as _arrayUnique, a6 as _attachContext, aq as _bezierCurveTo, an as _bezierInterpolation, av as _boundSegment, al as _boundSegments, a3 as _capitalize, ak as _computeSegments, a7 as _createResolver, aH as _decimalPlaces, aP as _deprecated, a8 as _descriptors, af as _elementsEqual, M as _factorize, aJ as _filterBetween, F as _getParentNode, U as _int16Range, ah as _isBetween, ag as _isClickEvent, K as _isDomSupported, z as _isPointInArea, w as _limitValue, aI as _longestText, aK as _lookup, x as _lookupByKey, S as _measureText, aN as _merger, aO as _mergerIf, aw as _normalizeAngle, ao as _pointInLine, ai as _readValueToProps, A as _rlookupByKey, aD as _setMinAndMaxByKey, am as _steppedInterpolation, ap as _steppedLineTo, az as _textX, $ as _toLeftRightCenter, aj as _updateBezierControlPoints, as as addRoundedRectPath, aG as almostEquals, aF as almostWhole, O as callback, ad as clearCanvas, W as clipArea, aM as clone, c as color, h as createContext, ab as debounce, j as defined, aC as distanceBetweenPoints, ar as drawPoint, D as each, e as easingEffects, N as finiteOrDefault, aU as fontString, o as formatNumber, B as getAngleFromPoint, aL as getHoverColor, E as getMaximumSize, y as getRelativePosition, ax as getRtlAdapter, aT as getStyle, b as isArray, g as isFinite, a5 as isFunction, k as isNullOrUndef, q as isNumber, i as isObject, l as listenArrayEvents, L as log10, a2 as merge, a9 as mergeIf, aE as niceNum, aB as noop, ay as overrideTextDirection, G as readUsedSize, X as renderText, r as requestAnimFrame, a as resolve, f as resolveObjectKey, aA as restoreTextDirection, ac as retinaScale, ae as setsEqual, s as sign, aR as splineCurve, aS as splineCurveMonotone, J as supportsEventListenerOptions, I as throttled, R as toDegrees, n as toDimension, Z as toFont, aQ as toFontString, aV as toLineHeight, C as toPadding, m as toPercentage, t as toRadians, at as toTRBL, au as toTRBLCorners, aa as uid, Y as unclipArea, u as unlistenArrayEvents, v as valueOrDefault } from './chunks/helpers.segment.js';\n","/*!\n* chartjs-plugin-zoom v1.2.0\n* undefined\n * (c) 2016-2021 chartjs-plugin-zoom Contributors\n * Released under the MIT License\n */\nimport Hammer from 'hammerjs';\nimport { each, valueOrDefault, callback, sign } from 'chart.js/helpers';\n\nconst getModifierKey = opts => opts && opts.enabled && opts.modifierKey;\nconst keyPressed = (key, event) => key && event[key + 'Key'];\nconst keyNotPressed = (key, event) => key && !event[key + 'Key'];\n\n/**\n * @param {string|function} mode can be 'x', 'y' or 'xy'\n * @param {string} dir can be 'x' or 'y'\n * @param {import('chart.js').Chart} chart instance of the chart in question\n * @returns {boolean}\n */\nfunction directionEnabled(mode, dir, chart) {\n  if (mode === undefined) {\n    return true;\n  } else if (typeof mode === 'string') {\n    return mode.indexOf(dir) !== -1;\n  } else if (typeof mode === 'function') {\n    return mode({chart}).indexOf(dir) !== -1;\n  }\n\n  return false;\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n * @param {function} fn - Function to call. No arguments are passed.\n * @param {number} delay - Delay in ms. 0 = immediate invocation.\n * @returns {function}\n */\nfunction debounce(fn, delay) {\n  let timeout;\n  return function() {\n    clearTimeout(timeout);\n    timeout = setTimeout(fn, delay);\n    return delay;\n  };\n}\n\n/** This function use for check what axis now under mouse cursor.\n * @param {{x: number, y: number}} point - the mouse location\n * @param {import('chart.js').Chart} [chart] instance of the chart in question\n * @return {import('chart.js').Scale}\n */\nfunction getScaleUnderPoint({x, y}, chart) {\n  const scales = chart.scales;\n  const scaleIds = Object.keys(scales);\n  for (let i = 0; i < scaleIds.length; i++) {\n    const scale = scales[scaleIds[i]];\n    if (y >= scale.top && y <= scale.bottom && x >= scale.left && x <= scale.right) {\n      return scale;\n    }\n  }\n  return null;\n}\n\n/** This function return only one scale whose position is under mouse cursor and which direction is enabled.\n * If under mouse hasn't scale, then return all other scales which 'mode' is diffrent with overScaleMode.\n * So 'overScaleMode' works as a limiter to scale the user-selected scale (in 'mode') only when the cursor is under the scale,\n * and other directions in 'mode' works as before.\n * Example: mode = 'xy', overScaleMode = 'y' -> it's means 'x' - works as before, and 'y' only works for one scale when cursor is under it.\n * options.overScaleMode can be a function if user want zoom only one scale of many for example.\n * @param {string} mode - 'xy', 'x' or 'y'\n * @param {{x: number, y: number}} point - the mouse location\n * @param {import('chart.js').Chart} [chart] instance of the chart in question\n * @return {import('chart.js').Scale[]}\n */\nfunction getEnabledScalesByPoint(mode, point, chart) {\n  const scale = getScaleUnderPoint(point, chart);\n\n  if (scale && directionEnabled(mode, scale.axis, chart)) {\n    return [scale];\n  }\n\n  const enabledScales = [];\n  each(chart.scales, function(scaleItem) {\n    if (!directionEnabled(mode, scaleItem.axis, chart)) {\n      enabledScales.push(scaleItem);\n    }\n  });\n  return enabledScales;\n}\n\nconst chartStates = new WeakMap();\n\nfunction getState(chart) {\n  let state = chartStates.get(chart);\n  if (!state) {\n    state = {\n      originalScaleLimits: {},\n      updatedScaleLimits: {},\n      handlers: {},\n      panDelta: {}\n    };\n    chartStates.set(chart, state);\n  }\n  return state;\n}\n\nfunction removeState(chart) {\n  chartStates.delete(chart);\n}\n\nfunction zoomDelta(scale, zoom, center) {\n  const range = scale.max - scale.min;\n  const newRange = range * (zoom - 1);\n\n  const centerPoint = scale.isHorizontal() ? center.x : center.y;\n  // `scale.getValueForPixel()` can return a value less than the `scale.min` or\n  // greater than `scale.max` when `centerPoint` is outside chartArea.\n  const minPercent = Math.max(0, Math.min(1,\n    (scale.getValueForPixel(centerPoint) - scale.min) / range || 0\n  ));\n\n  const maxPercent = 1 - minPercent;\n\n  return {\n    min: newRange * minPercent,\n    max: newRange * maxPercent\n  };\n}\n\nfunction getLimit(state, scale, scaleLimits, prop, fallback) {\n  let limit = scaleLimits[prop];\n  if (limit === 'original') {\n    const original = state.originalScaleLimits[scale.id][prop];\n    limit = valueOrDefault(original.options, original.scale);\n  }\n  return valueOrDefault(limit, fallback);\n}\n\nfunction updateRange(scale, {min, max}, limits, zoom = false) {\n  const state = getState(scale.chart);\n  const {id, axis, options: scaleOpts} = scale;\n\n  const scaleLimits = limits && (limits[id] || limits[axis]) || {};\n  const {minRange = 0} = scaleLimits;\n  const minLimit = getLimit(state, scale, scaleLimits, 'min', -Infinity);\n  const maxLimit = getLimit(state, scale, scaleLimits, 'max', Infinity);\n\n  const cmin = Math.max(min, minLimit);\n  const cmax = Math.min(max, maxLimit);\n  const range = zoom ? Math.max(cmax - cmin, minRange) : scale.max - scale.min;\n  if (cmax - cmin !== range) {\n    if (minLimit > cmax - range) {\n      min = cmin;\n      max = cmin + range;\n    } else if (maxLimit < cmin + range) {\n      max = cmax;\n      min = cmax - range;\n    } else {\n      const offset = (range - cmax + cmin) / 2;\n      min = cmin - offset;\n      max = cmax + offset;\n    }\n  } else {\n    min = cmin;\n    max = cmax;\n  }\n  scaleOpts.min = min;\n  scaleOpts.max = max;\n\n  state.updatedScaleLimits[scale.id] = {min, max};\n\n  // return true if the scale range is changed\n  return scale.parse(min) !== scale.min || scale.parse(max) !== scale.max;\n}\n\nfunction zoomNumericalScale(scale, zoom, center, limits) {\n  const delta = zoomDelta(scale, zoom, center);\n  const newRange = {min: scale.min + delta.min, max: scale.max - delta.max};\n  return updateRange(scale, newRange, limits, true);\n}\n\nconst integerChange = (v) => v === 0 || isNaN(v) ? 0 : v < 0 ? Math.min(Math.round(v), -1) : Math.max(Math.round(v), 1);\n\nfunction existCategoryFromMaxZoom(scale) {\n  const labels = scale.getLabels();\n  const maxIndex = labels.length - 1;\n\n  if (scale.min > 0) {\n    scale.min -= 1;\n  }\n  if (scale.max < maxIndex) {\n    scale.max += 1;\n  }\n}\n\nfunction zoomCategoryScale(scale, zoom, center, limits) {\n  const delta = zoomDelta(scale, zoom, center);\n  if (scale.min === scale.max && zoom < 1) {\n    existCategoryFromMaxZoom(scale);\n  }\n  const newRange = {min: scale.min + integerChange(delta.min), max: scale.max - integerChange(delta.max)};\n  return updateRange(scale, newRange, limits, true);\n}\n\nfunction scaleLength(scale) {\n  return scale.isHorizontal() ? scale.width : scale.height;\n}\n\nfunction panCategoryScale(scale, delta, limits) {\n  const labels = scale.getLabels();\n  const lastLabelIndex = labels.length - 1;\n  let {min, max} = scale;\n  // The visible range. Ticks can be skipped, and thus not reliable.\n  const range = Math.max(max - min, 1);\n  // How many pixels of delta is required before making a step. stepSize, but limited to max 1/10 of the scale length.\n  const stepDelta = Math.round(scaleLength(scale) / Math.max(range, 10));\n  const stepSize = Math.round(Math.abs(delta / stepDelta));\n  let applied;\n  if (delta < -stepDelta) {\n    max = Math.min(max + stepSize, lastLabelIndex);\n    min = range === 1 ? max : max - range;\n    applied = max === lastLabelIndex;\n  } else if (delta > stepDelta) {\n    min = Math.max(0, min - stepSize);\n    max = range === 1 ? min : min + range;\n    applied = min === 0;\n  }\n\n  return updateRange(scale, {min, max}, limits) || applied;\n}\n\nconst OFFSETS = {\n  second: 500, // 500 ms\n  minute: 30 * 1000, // 30 s\n  hour: 30 * 60 * 1000, // 30 m\n  day: 12 * 60 * 60 * 1000, // 12 h\n  week: 3.5 * 24 * 60 * 60 * 1000, // 3.5 d\n  month: 15 * 24 * 60 * 60 * 1000, // 15 d\n  quarter: 60 * 24 * 60 * 60 * 1000, // 60 d\n  year: 182 * 24 * 60 * 60 * 1000 // 182 d\n};\n\nfunction panNumericalScale(scale, delta, limits, canZoom = false) {\n  const {min: prevStart, max: prevEnd, options} = scale;\n  const round = options.time && options.time.round;\n  const offset = OFFSETS[round] || 0;\n  const newMin = scale.getValueForPixel(scale.getPixelForValue(prevStart + offset) - delta);\n  const newMax = scale.getValueForPixel(scale.getPixelForValue(prevEnd + offset) - delta);\n  const {min: minLimit = -Infinity, max: maxLimit = Infinity} = canZoom && limits && limits[scale.axis] || {};\n  if (isNaN(newMin) || isNaN(newMax) || newMin < minLimit || newMax > maxLimit) {\n    // At limit: No change but return true to indicate no need to store the delta.\n    // NaN can happen for 0-dimension scales (either because they were configured\n    // with min === max or because the chart has 0 plottable area).\n    return true;\n  }\n  return updateRange(scale, {min: newMin, max: newMax}, limits, canZoom);\n}\n\nfunction panNonLinearScale(scale, delta, limits) {\n  return panNumericalScale(scale, delta, limits, true);\n}\n\nconst zoomFunctions = {\n  category: zoomCategoryScale,\n  default: zoomNumericalScale,\n};\n\nconst panFunctions = {\n  category: panCategoryScale,\n  default: panNumericalScale,\n  logarithmic: panNonLinearScale,\n  timeseries: panNonLinearScale,\n};\n\nfunction shouldUpdateScaleLimits(scale, originalScaleLimits, updatedScaleLimits) {\n  const {id, options: {min, max}} = scale;\n  if (!originalScaleLimits[id] || !updatedScaleLimits[id]) {\n    return true;\n  }\n  const previous = updatedScaleLimits[id];\n  return previous.min !== min || previous.max !== max;\n}\n\nfunction removeMissingScales(limits, scales) {\n  each(limits, (opt, key) => {\n    if (!scales[key]) {\n      delete limits[key];\n    }\n  });\n}\n\nfunction storeOriginalScaleLimits(chart, state) {\n  const {scales} = chart;\n  const {originalScaleLimits, updatedScaleLimits} = state;\n\n  each(scales, function(scale) {\n    if (shouldUpdateScaleLimits(scale, originalScaleLimits, updatedScaleLimits)) {\n      originalScaleLimits[scale.id] = {\n        min: {scale: scale.min, options: scale.options.min},\n        max: {scale: scale.max, options: scale.options.max},\n      };\n    }\n  });\n\n  removeMissingScales(originalScaleLimits, scales);\n  removeMissingScales(updatedScaleLimits, scales);\n  return originalScaleLimits;\n}\n\nfunction doZoom(scale, amount, center, limits) {\n  const fn = zoomFunctions[scale.type] || zoomFunctions.default;\n  callback(fn, [scale, amount, center, limits]);\n}\n\nfunction getCenter(chart) {\n  const ca = chart.chartArea;\n  return {\n    x: (ca.left + ca.right) / 2,\n    y: (ca.top + ca.bottom) / 2,\n  };\n}\n\n/**\n * @param chart The chart instance\n * @param {number | {x?: number, y?: number, focalPoint?: {x: number, y: number}}} amount The zoom percentage or percentages and focal point\n * @param {string} [transition] Which transition mode to use. Defaults to 'none'\n */\nfunction zoom(chart, amount, transition = 'none') {\n  const {x = 1, y = 1, focalPoint = getCenter(chart)} = typeof amount === 'number' ? {x: amount, y: amount} : amount;\n  const state = getState(chart);\n  const {options: {limits, zoom: zoomOptions}} = state;\n  const {mode = 'xy', overScaleMode} = zoomOptions || {};\n\n  storeOriginalScaleLimits(chart, state);\n\n  const xEnabled = x !== 1 && directionEnabled(mode, 'x', chart);\n  const yEnabled = y !== 1 && directionEnabled(mode, 'y', chart);\n  const enabledScales = overScaleMode && getEnabledScalesByPoint(overScaleMode, focalPoint, chart);\n\n  each(enabledScales || chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      doZoom(scale, x, focalPoint, limits);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      doZoom(scale, y, focalPoint, limits);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(zoomOptions.onZoom, [{chart}]);\n}\n\nfunction getRange(scale, pixel0, pixel1) {\n  const v0 = scale.getValueForPixel(pixel0);\n  const v1 = scale.getValueForPixel(pixel1);\n  return {\n    min: Math.min(v0, v1),\n    max: Math.max(v0, v1)\n  };\n}\n\nfunction zoomRect(chart, p0, p1, transition = 'none') {\n  const state = getState(chart);\n  const {options: {limits, zoom: zoomOptions}} = state;\n  const {mode = 'xy'} = zoomOptions;\n\n  storeOriginalScaleLimits(chart, state);\n  const xEnabled = directionEnabled(mode, 'x', chart);\n  const yEnabled = directionEnabled(mode, 'y', chart);\n\n  each(chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      updateRange(scale, getRange(scale, p0.x, p1.x), limits, true);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      updateRange(scale, getRange(scale, p0.y, p1.y), limits, true);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(zoomOptions.onZoom, [{chart}]);\n}\n\nfunction zoomScale(chart, scaleId, range, transition = 'none') {\n  storeOriginalScaleLimits(chart, getState(chart));\n  const scale = chart.scales[scaleId];\n  updateRange(scale, range, undefined, true);\n  chart.update(transition);\n}\n\nfunction resetZoom(chart, transition = 'default') {\n  const state = getState(chart);\n  const originalScaleLimits = storeOriginalScaleLimits(chart, state);\n\n  each(chart.scales, function(scale) {\n    const scaleOptions = scale.options;\n    if (originalScaleLimits[scale.id]) {\n      scaleOptions.min = originalScaleLimits[scale.id].min.options;\n      scaleOptions.max = originalScaleLimits[scale.id].max.options;\n    } else {\n      delete scaleOptions.min;\n      delete scaleOptions.max;\n    }\n  });\n  chart.update(transition);\n  callback(state.options.zoom.onZoomComplete, [{chart}]);\n}\n\nfunction getOriginalRange(state, scaleId) {\n  const original = state.originalScaleLimits[scaleId];\n  if (!original) {\n    return;\n  }\n  const {min, max} = original;\n  return valueOrDefault(max.options, max.scale) - valueOrDefault(min.options, min.scale);\n}\n\nfunction getZoomLevel(chart) {\n  const state = getState(chart);\n  let min = 1;\n  let max = 1;\n  each(chart.scales, function(scale) {\n    const origRange = getOriginalRange(state, scale.id);\n    if (origRange) {\n      const level = Math.round(origRange / (scale.max - scale.min) * 100) / 100;\n      min = Math.min(min, level);\n      max = Math.max(max, level);\n    }\n  });\n  return min < 1 ? min : max;\n}\n\nfunction panScale(scale, delta, limits, state) {\n  const {panDelta} = state;\n  // Add possible cumulative delta from previous pan attempts where scale did not change\n  const storedDelta = panDelta[scale.id] || 0;\n  if (sign(storedDelta) === sign(delta)) {\n    delta += storedDelta;\n  }\n  const fn = panFunctions[scale.type] || panFunctions.default;\n  if (callback(fn, [scale, delta, limits])) {\n    // The scale changed, reset cumulative delta\n    panDelta[scale.id] = 0;\n  } else {\n    // The scale did not change, store cumulative delta\n    panDelta[scale.id] = delta;\n  }\n}\n\nfunction pan(chart, delta, enabledScales, transition = 'none') {\n  const {x = 0, y = 0} = typeof delta === 'number' ? {x: delta, y: delta} : delta;\n  const state = getState(chart);\n  const {options: {pan: panOptions, limits}} = state;\n  const {mode = 'xy', onPan} = panOptions || {};\n\n  storeOriginalScaleLimits(chart, state);\n\n  const xEnabled = x !== 0 && directionEnabled(mode, 'x', chart);\n  const yEnabled = y !== 0 && directionEnabled(mode, 'y', chart);\n\n  each(enabledScales || chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      panScale(scale, x, limits, state);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      panScale(scale, y, limits, state);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(onPan, [{chart}]);\n}\n\nfunction getInitialScaleBounds(chart) {\n  const state = getState(chart);\n  const scaleBounds = {};\n  for (const scaleId of Object.keys(chart.scales)) {\n    const {min, max} = state.originalScaleLimits[scaleId] || {min: {}, max: {}};\n    scaleBounds[scaleId] = {min: min.scale, max: max.scale};\n  }\n\n  return scaleBounds;\n}\n\nfunction isZoomedOrPanned(chart) {\n  const scaleBounds = getInitialScaleBounds(chart);\n  for (const scaleId of Object.keys(chart.scales)) {\n    const {min: originalMin, max: originalMax} = scaleBounds[scaleId];\n\n    if (chart.scales[scaleId].min !== originalMin) {\n      return true;\n    }\n\n    if (chart.scales[scaleId].max !== originalMax) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction removeHandler(chart, type) {\n  const {handlers} = getState(chart);\n  const handler = handlers[type];\n  if (handler && handler.target) {\n    handler.target.removeEventListener(type, handler);\n    delete handlers[type];\n  }\n}\n\nfunction addHandler(chart, target, type, handler) {\n  const {handlers, options} = getState(chart);\n  removeHandler(chart, type);\n  handlers[type] = (event) => handler(chart, event, options);\n  handlers[type].target = target;\n  target.addEventListener(type, handlers[type]);\n}\n\nfunction mouseMove(chart, event) {\n  const state = getState(chart);\n  if (state.dragStart) {\n    state.dragging = true;\n    state.dragEnd = event;\n    chart.update('none');\n  }\n}\n\nfunction zoomStart(chart, event, zoomOptions) {\n  const {onZoomStart, onZoomRejected} = zoomOptions;\n  if (onZoomStart) {\n    const {left: offsetX, top: offsetY} = event.target.getBoundingClientRect();\n    const point = {\n      x: event.clientX - offsetX,\n      y: event.clientY - offsetY\n    };\n    if (callback(onZoomStart, [{chart, event, point}]) === false) {\n      callback(onZoomRejected, [{chart, event}]);\n      return false;\n    }\n  }\n}\n\nfunction mouseDown(chart, event) {\n  const state = getState(chart);\n  const {pan: panOptions, zoom: zoomOptions = {}} = state.options;\n  if (keyPressed(getModifierKey(panOptions), event) || keyNotPressed(getModifierKey(zoomOptions.drag), event)) {\n    return callback(zoomOptions.onZoomRejected, [{chart, event}]);\n  }\n\n  if (zoomStart(chart, event, zoomOptions) === false) {\n    return;\n  }\n  state.dragStart = event;\n\n  addHandler(chart, chart.canvas, 'mousemove', mouseMove);\n}\n\nfunction computeDragRect(chart, mode, beginPoint, endPoint) {\n  const {left: offsetX, top: offsetY} = beginPoint.target.getBoundingClientRect();\n  const xEnabled = directionEnabled(mode, 'x', chart);\n  const yEnabled = directionEnabled(mode, 'y', chart);\n  let {top, left, right, bottom, width: chartWidth, height: chartHeight} = chart.chartArea;\n\n  if (xEnabled) {\n    left = Math.min(beginPoint.clientX, endPoint.clientX) - offsetX;\n    right = Math.max(beginPoint.clientX, endPoint.clientX) - offsetX;\n  }\n\n  if (yEnabled) {\n    top = Math.min(beginPoint.clientY, endPoint.clientY) - offsetY;\n    bottom = Math.max(beginPoint.clientY, endPoint.clientY) - offsetY;\n  }\n  const width = right - left;\n  const height = bottom - top;\n\n  return {\n    left,\n    top,\n    right,\n    bottom,\n    width,\n    height,\n    zoomX: xEnabled && width ? 1 + ((chartWidth - width) / chartWidth) : 1,\n    zoomY: yEnabled && height ? 1 + ((chartHeight - height) / chartHeight) : 1\n  };\n}\n\nfunction mouseUp(chart, event) {\n  const state = getState(chart);\n  if (!state.dragStart) {\n    return;\n  }\n\n  removeHandler(chart, 'mousemove');\n  const {mode, onZoomComplete, drag: {threshold = 0}} = state.options.zoom;\n  const rect = computeDragRect(chart, mode, state.dragStart, event);\n  const distanceX = directionEnabled(mode, 'x', chart) ? rect.width : 0;\n  const distanceY = directionEnabled(mode, 'y', chart) ? rect.height : 0;\n  const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n\n  // Remove drag start and end before chart update to stop drawing selected area\n  state.dragStart = state.dragEnd = null;\n\n  if (distance <= threshold) {\n    state.dragging = false;\n    chart.update('none');\n    return;\n  }\n\n  zoomRect(chart, {x: rect.left, y: rect.top}, {x: rect.right, y: rect.bottom}, 'zoom');\n\n  setTimeout(() => (state.dragging = false), 500);\n  callback(onZoomComplete, [{chart}]);\n}\n\nfunction wheelPreconditions(chart, event, zoomOptions) {\n  // Before preventDefault, check if the modifier key required and pressed\n  if (keyNotPressed(getModifierKey(zoomOptions.wheel), event)) {\n    callback(zoomOptions.onZoomRejected, [{chart, event}]);\n    return;\n  }\n\n  if (zoomStart(chart, event, zoomOptions) === false) {\n    return;\n  }\n\n  // Prevent the event from triggering the default behavior (eg. Content scrolling).\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  // Firefox always fires the wheel event twice:\n  // First without the delta and right after that once with the delta properties.\n  if (event.deltaY === undefined) {\n    return;\n  }\n  return true;\n}\n\nfunction wheel(chart, event) {\n  const {handlers: {onZoomComplete}, options: {zoom: zoomOptions}} = getState(chart);\n\n  if (!wheelPreconditions(chart, event, zoomOptions)) {\n    return;\n  }\n\n  const rect = event.target.getBoundingClientRect();\n  const speed = 1 + (event.deltaY >= 0 ? -zoomOptions.wheel.speed : zoomOptions.wheel.speed);\n  const amount = {\n    x: speed,\n    y: speed,\n    focalPoint: {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    }\n  };\n\n  zoom(chart, amount);\n\n  if (onZoomComplete) {\n    onZoomComplete();\n  }\n}\n\nfunction addDebouncedHandler(chart, name, handler, delay) {\n  if (handler) {\n    getState(chart).handlers[name] = debounce(() => callback(handler, [{chart}]), delay);\n  }\n}\n\nfunction addListeners(chart, options) {\n  const canvas = chart.canvas;\n  const {wheel: wheelOptions, drag: dragOptions, onZoomComplete} = options.zoom;\n\n  // Install listeners. Do this dynamically based on options so that we can turn zoom on and off\n  // We also want to make sure listeners aren't always on. E.g. if you're scrolling down a page\n  // and the mouse goes over a chart you don't want it intercepted unless the plugin is enabled\n  if (wheelOptions.enabled) {\n    addHandler(chart, canvas, 'wheel', wheel);\n    addDebouncedHandler(chart, 'onZoomComplete', onZoomComplete, 250);\n  } else {\n    removeHandler(chart, 'wheel');\n  }\n  if (dragOptions.enabled) {\n    addHandler(chart, canvas, 'mousedown', mouseDown);\n    addHandler(chart, canvas.ownerDocument, 'mouseup', mouseUp);\n  } else {\n    removeHandler(chart, 'mousedown');\n    removeHandler(chart, 'mousemove');\n    removeHandler(chart, 'mouseup');\n  }\n}\n\nfunction removeListeners(chart) {\n  removeHandler(chart, 'mousedown');\n  removeHandler(chart, 'mousemove');\n  removeHandler(chart, 'mouseup');\n  removeHandler(chart, 'wheel');\n  removeHandler(chart, 'click');\n}\n\nfunction createEnabler(chart, state) {\n  return function(recognizer, event) {\n    const {pan: panOptions, zoom: zoomOptions = {}} = state.options;\n    if (!panOptions || !panOptions.enabled) {\n      return false;\n    }\n    const srcEvent = event && event.srcEvent;\n    if (!srcEvent) { // Sometimes Hammer queries this with a null event.\n      return true;\n    }\n    if (!state.panning && event.pointerType === 'mouse' && (\n      keyNotPressed(getModifierKey(panOptions), srcEvent) || keyPressed(getModifierKey(zoomOptions.drag), srcEvent))\n    ) {\n      callback(panOptions.onPanRejected, [{chart, event}]);\n      return false;\n    }\n    return true;\n  };\n}\n\nfunction pinchAxes(p0, p1) {\n  // fingers position difference\n  const pinchX = Math.abs(p0.clientX - p1.clientX);\n  const pinchY = Math.abs(p0.clientY - p1.clientY);\n\n  // diagonal fingers will change both (xy) axes\n  const p = pinchX / pinchY;\n  let x, y;\n  if (p > 0.3 && p < 1.7) {\n    x = y = true;\n  } else if (pinchX > pinchY) {\n    x = true;\n  } else {\n    y = true;\n  }\n  return {x, y};\n}\n\nfunction handlePinch(chart, state, e) {\n  if (state.scale) {\n    const {center, pointers} = e;\n    // Hammer reports the total scaling. We need the incremental amount\n    const zoomPercent = 1 / state.scale * e.scale;\n    const rect = e.target.getBoundingClientRect();\n    const pinch = pinchAxes(pointers[0], pointers[1]);\n    const mode = state.options.zoom.mode;\n    const amount = {\n      x: pinch.x && directionEnabled(mode, 'x', chart) ? zoomPercent : 1,\n      y: pinch.y && directionEnabled(mode, 'y', chart) ? zoomPercent : 1,\n      focalPoint: {\n        x: center.x - rect.left,\n        y: center.y - rect.top\n      }\n    };\n\n    zoom(chart, amount);\n\n    // Keep track of overall scale\n    state.scale = e.scale;\n  }\n}\n\nfunction startPinch(chart, state) {\n  if (state.options.zoom.pinch.enabled) {\n    state.scale = 1;\n  }\n}\n\nfunction endPinch(chart, state, e) {\n  if (state.scale) {\n    handlePinch(chart, state, e);\n    state.scale = null; // reset\n    callback(state.options.zoom.onZoomComplete, [{chart}]);\n  }\n}\n\nfunction handlePan(chart, state, e) {\n  const delta = state.delta;\n  if (delta) {\n    state.panning = true;\n    pan(chart, {x: e.deltaX - delta.x, y: e.deltaY - delta.y}, state.panScales);\n    state.delta = {x: e.deltaX, y: e.deltaY};\n  }\n}\n\nfunction startPan(chart, state, event) {\n  const {enabled, overScaleMode, onPanStart, onPanRejected} = state.options.pan;\n  if (!enabled) {\n    return;\n  }\n  const rect = event.target.getBoundingClientRect();\n  const point = {\n    x: event.center.x - rect.left,\n    y: event.center.y - rect.top\n  };\n\n  if (callback(onPanStart, [{chart, event, point}]) === false) {\n    return callback(onPanRejected, [{chart, event}]);\n  }\n\n  state.panScales = overScaleMode && getEnabledScalesByPoint(overScaleMode, point, chart);\n  state.delta = {x: 0, y: 0};\n  clearTimeout(state.panEndTimeout);\n  handlePan(chart, state, event);\n}\n\nfunction endPan(chart, state) {\n  state.delta = null;\n  if (state.panning) {\n    state.panEndTimeout = setTimeout(() => (state.panning = false), 500);\n    callback(state.options.pan.onPanComplete, [{chart}]);\n  }\n}\n\nconst hammers = new WeakMap();\nfunction startHammer(chart, options) {\n  const state = getState(chart);\n  const canvas = chart.canvas;\n  const {pan: panOptions, zoom: zoomOptions} = options;\n\n  const mc = new Hammer.Manager(canvas);\n  if (zoomOptions && zoomOptions.pinch.enabled) {\n    mc.add(new Hammer.Pinch());\n    mc.on('pinchstart', () => startPinch(chart, state));\n    mc.on('pinch', (e) => handlePinch(chart, state, e));\n    mc.on('pinchend', (e) => endPinch(chart, state, e));\n  }\n\n  if (panOptions && panOptions.enabled) {\n    mc.add(new Hammer.Pan({\n      threshold: panOptions.threshold,\n      enable: createEnabler(chart, state)\n    }));\n    mc.on('panstart', (e) => startPan(chart, state, e));\n    mc.on('panmove', (e) => handlePan(chart, state, e));\n    mc.on('panend', () => endPan(chart, state));\n  }\n\n  hammers.set(chart, mc);\n}\n\nfunction stopHammer(chart) {\n  const mc = hammers.get(chart);\n  if (mc) {\n    mc.remove('pinchstart');\n    mc.remove('pinch');\n    mc.remove('pinchend');\n    mc.remove('panstart');\n    mc.remove('pan');\n    mc.remove('panend');\n    mc.destroy();\n    hammers.delete(chart);\n  }\n}\n\nvar version = \"1.2.0\";\n\nvar plugin = {\n  id: 'zoom',\n\n  version,\n\n  defaults: {\n    pan: {\n      enabled: false,\n      mode: 'xy',\n      threshold: 10,\n      modifierKey: null,\n    },\n    zoom: {\n      wheel: {\n        enabled: false,\n        speed: 0.1,\n        modifierKey: null\n      },\n      drag: {\n        enabled: false,\n        modifierKey: null\n      },\n      pinch: {\n        enabled: false\n      },\n      mode: 'xy',\n    }\n  },\n\n  start: function(chart, _args, options) {\n    const state = getState(chart);\n    state.options = options;\n\n    if (Object.prototype.hasOwnProperty.call(options.zoom, 'enabled')) {\n      console.warn('The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`.');\n    }\n\n    if (Hammer) {\n      startHammer(chart, options);\n    }\n\n    chart.pan = (delta, panScales, transition) => pan(chart, delta, panScales, transition);\n    chart.zoom = (args, transition) => zoom(chart, args, transition);\n    chart.zoomScale = (id, range, transition) => zoomScale(chart, id, range, transition);\n    chart.resetZoom = (transition) => resetZoom(chart, transition);\n    chart.getZoomLevel = () => getZoomLevel(chart);\n    chart.getInitialScaleBounds = () => getInitialScaleBounds(chart);\n    chart.isZoomedOrPanned = () => isZoomedOrPanned(chart);\n  },\n\n  beforeEvent(chart) {\n    const state = getState(chart);\n    if (state.panning || state.dragging) {\n      // cancel any event handling while panning or dragging\n      return false;\n    }\n  },\n\n  beforeUpdate: function(chart, args, options) {\n    const state = getState(chart);\n    state.options = options;\n    addListeners(chart, options);\n  },\n\n  beforeDatasetsDraw: function(chart, args, options) {\n    const {dragStart, dragEnd} = getState(chart);\n\n    if (dragEnd) {\n      const {left, top, width, height} = computeDragRect(chart, options.zoom.mode, dragStart, dragEnd);\n\n      const dragOptions = options.zoom.drag;\n      const ctx = chart.ctx;\n\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = dragOptions.backgroundColor || 'rgba(225,225,225,0.3)';\n      ctx.fillRect(left, top, width, height);\n\n      if (dragOptions.borderWidth > 0) {\n        ctx.lineWidth = dragOptions.borderWidth;\n        ctx.strokeStyle = dragOptions.borderColor || 'rgba(225,225,225)';\n        ctx.strokeRect(left, top, width, height);\n      }\n      ctx.restore();\n    }\n  },\n\n  stop: function(chart) {\n    removeListeners(chart);\n\n    if (Hammer) {\n      stopHammer(chart);\n    }\n    removeState(chart);\n  },\n\n  panFunctions,\n\n  zoomFunctions\n};\n\nexport { plugin as default, pan, resetZoom, zoom, zoomScale };\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n"]}
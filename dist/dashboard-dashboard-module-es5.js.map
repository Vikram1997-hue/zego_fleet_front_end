{"version":3,"sources":["webpack:///src/app/main/dashboard/dashboard-home/dashboard-home.component.ts","webpack:///src/app/main/dashboard/dashboard-home/dashboard-home.component.html","webpack:///src/app/main/dashboard/dashboard.module.ts","webpack:///src/app/main/dashboard/dashboard-card/dashboard-card.component.ts","webpack:///src/app/main/dashboard/dashboard-card/dashboard-card.component.html","webpack:///src/app/main/dashboard/dashboard-routing.module.ts","webpack:///src/app/main/dashboard/dashboard-home-v2/dashboard-home-v2.component.ts","webpack:///src/app/main/dashboard/dashboard-home-v2/dashboard-home-v2.component.html","webpack:///src/app/main/dashboard/dashboard-home-v2/chart-dashboard.html","webpack:///src/app/main/dashboard/bar-chart/bar-chart.component.ts","webpack:///src/app/main/dashboard/bar-chart/bar-chart.component.html"],"names":["DashboardHomeComponent","elementRef","service","localService","route","boxVal","isCollapsed","dashBoardData","dashBoardScore","chartData","date","speed","acc","braking","idiling","cornering","exceptionData","RULE_ID","RulePostedSpeedingId","RulePostedBreakingId","RulePostedAccelerationId","RulePostedIdlingId","RulePostedCorneringId","displayedColumns","title","selected","startDate","subtract","startOf","set","endDate","endOf","selectedShow","ranges","momentRange","alwaysShowCalendars","showRangeLabelOnInput","keepCalendarOpeningWithRange","invalidDates","polarObject","idling","acceleration","breaking","exceptionObject","tooltips","text","add","isInvalidDate","m","some","d","isSame","isTooltipDate","tooltip","find","tt","miniChartObj","register","innerWidth","window","selectedOrgID","getItem","JSON","parse","resetToLastState","updatePageData","watchOrgData","subscribe","resp","orgId","isEqual","length","every","val","includes","label","range","dataPoints","data","labels","datasets","backgroundColor","htmlRef","nativeElement","querySelector","polarChart","destroy","type","options","responsive","maintainAspectRatio","layout","padding","left","plugins","legend","display","position","enabled","callbacks","labelTextColor","context","point","datapoints","mainLineChart","borderColor","fill","cubicInterpolationMode","tension","pointBackgroundColor","elements","radius","titleAlign","footerAlign","bodyAlign","interaction","intersect","scales","x","y","max","gaugeMax","ticks","precision","id","color","dataPoint","ids","gradient","getContext","createLinearGradient","addColorStop","num","lineChart","getExceptionCategoryWiseData","worstDriver","filterApply","setItem","stringify","changeState","getDashboardData","polardata","querryParams","createQuerryparams","get","pipe","response","exceptionRatio","total","reduce","previousValue","currentValue","Number","score_type_count","i","score_type","toFixed","keys","push","polarGraph","error","worstDriverdetail","parseFloat","pre_safe_score","safe_score","pre_total_drivers","total_drivers","pre_total_trips","total_trips","pre_total_vehicles","total_vehicles","pre_speed_score","speed_score","pre_idling_score","idling_score","pre_acceleration_score","acceleration_score","pre_breaking_score","breaking_score","pre_cornering_score","cornering_score","getChartData","forEach","element","format","formatToFixed","miniChart","violated_drivers","checkCustomDate","undefined","navigate","driver","url","queryParams","rule","event","target","rangeClicked","datesUpdated","resetFilter","changeBoxValue","selector","templateUrl","styleUrls","onResize","DashboardModule","forRoot","forChild","extend","declarations","imports","DashboardCardComponent","cd","border","background","browsername","detectBrowserName","obj","key","Object","routes","path","component","pathMatch","DashboardRoutingModule","exports","DashboardHomeV2Component","dialog","translate","showSpeedingBox","showIdilingBox","showAccelerationBox","showBrakingBox","showCorneringBox","isTripHistoryLoading","tableView","noRoadTypeData","safeScoreCheckbox","otherCheckbox","speedingCheckbox","idilingCheckbox","accCheckbox","brakingCheckbox","corneringCheckbox","removeArr","safeScoreCheckboxsecond","otherCheckboxsecond","maxDate","transactions","item","cost","score","items","name","imagePath","isFuelListLoading","tsp_speed","tsp_acc","tsp_braking","tsp_idiling","tsp_cornering","tsp_safe_score","leftSide","rightSide","leftCount","leftWidth","rightWidth","fuelChart","licensePlate","mileage","stackBar","value","colorBox","showStackBar","filterCalledDashboard","isLoadingshimmer","customeRange","setDate","cancelDate","dayNightScore","dayScore","nightScore","speed_distribution","breaking_distribution","acceleration_distribution","cornering_distribution","worstScore","bestScore","probablyCrashed","mostTravelled","totalCount","roadTypeLabel","roadTypeData","attentionValue","naValue","exceptionLabel","totalException","speedingDriver","idlingingDriver","getFilter","dashboard","next","getdashboardData","calcWidth","getLang","setTimeout","lineChartScore","getRoadTypeDistribution","getDayNightScore","getExceptionOnRule","getVehicleAnalytics","res","is_day_trip","start_date_time","reverse","err","contribution_value","road_factor_name","count","rows","sort","a","b","consumption100km","license_plate","Array","myChart","titleColor","displayColors","dataset","update","apiData","split","k","linemyChart","fleetScore","safeAcc","deAcc","corner","dataSet","borderWidth","borderDash","pointsSecond","linemyChartScore","dayDrive","nightDrive","splice","dataSum","index","barChartmyChart","datapoints1","suggestedMin","suggestedMax","lastDate","pushChartData","diff","days","j","tsp_speed_score","tsp_acceleration_score","tsp_breaking_score","tsp_idling_score","tsp_cornering_score","chart","chartdate","safeScore","dialogRef","open","DialogContentdashboardDialog","disableClose","panelClass","height","width","afterClosed","result","chartdata","ruleId","changecheckboxValue","openChartPopup","changecheckboxValuesecond","openChartPopupSecondChart","labelfirst","labelsecond","lineChartAll","zoom","wheel","pinch","drag","mode","safe","resetZoom","close","onNoClick","BarChartComponent","arr","newbarChart","yLabel","map","fontFamily","fontW","barchartdata","_this","datalabels","font","size","family","anchor","align","formatter","convertToDutch","grid","drawOnChartArea","callback","test","weight","beginAtZero","values","Math","round"],"mappings":"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","file":"dashboard-dashboard-module-es5.js","sourcesContent":["import { Component, ElementRef, HostListener, OnInit } from '@angular/core';\nimport * as moment from 'moment';\nimport { AppConfig } from 'src/app/config/app-config';\nimport { Chart, registerables } from 'chart.js';\nimport { LocalService } from 'src/app/services/local.service';\nimport { MainService } from 'src/app/services/main.service';\nimport { Router } from '@angular/router';\nimport { RouteConfig } from 'src/app/config/route-config';\n@Component({\n  selector: 'app-dashboard-home',\n  templateUrl: './dashboard-home.component.html',\n  styleUrls: ['./dashboard-home.component.scss']\n})\nexport class DashboardHomeComponent implements OnInit {\n\n  boxVal: number = 1;\n  public isCollapsed = true;\n  public innerWidth: any;\n  dashBoardData: any = {};\n  worstDriverdetail: any;\n  dashBoardScore: any = {};\n  exceptionRatio: any;\n  chartData: any = { date: [], speed: [], acc: [], braking: [], idiling: [], cornering: [] }\n  exceptionData: any = {};\n\n  RULE_ID = {\n    RulePostedSpeedingId: 'SpeedViolation',\n    RulePostedBreakingId: 'BreakingViolation',\n    RulePostedAccelerationId: 'AccelerationViolation',\n    RulePostedIdlingId: 'IdlingViolation',\n    RulePostedCorneringId: 'CorneringViolation'\n}\n\n  //table\n  displayedColumns: string[] = ['item', 'cost', 'score'];\n\n  title: string = 'Speed score';\n\n  selected: any = {\n    startDate: moment().subtract(1, 'month').startOf('month').set('hours', 0).set('minutes', 0),\n    endDate: moment().subtract(1, 'month').endOf('month').set('hours', 23).set('minutes', 59)\n  };\n  selectedShow: any = {\n    startDate: moment().subtract(1, 'month').startOf('month').set('hours', 0).set('minutes', 0),\n    endDate: moment().subtract(1, 'month').endOf('month').set('hours', 23).set('minutes', 59)\n  };\n\n  // CALENDAR\n  ranges: any = AppConfig.momentRange;\n\n  alwaysShowCalendars: boolean = true;\n  showRangeLabelOnInput: boolean = true;\n  keepCalendarOpeningWithRange: boolean = true;\n  invalidDates = [];\n\n  polarObject: any = { speed: 0, idling: 0, acceleration: 0, breaking: 0, cornering: 0 };\n\n  selectedOrgID: any;\n\n  exceptionObject = {\n 'speed': 'Speeding',\n 'idling': 'Idiling',\n 'acceleration': 'Harsh Acceleration',\n 'cornering': 'Harsh Cornering',\n 'breaking': 'Harsh Braking'\n  }\n\n  tooltips = [\n    { date: moment(), text: 'Today is just unselectable' },\n    { date: moment().add(2, 'days'), text: 'Yeeeees!!!' }\n  ];\n  constructor(private elementRef: ElementRef, public service: MainService,\n    private localService: LocalService, private route:Router) { Chart.register(...registerables); }\n\n  ngOnInit(): void {\n    this.innerWidth = window.innerWidth;\n    this.selectedOrgID = this.localService.getItem(\"selectedOrgs\")\n    if (this.selectedOrgID) {\n      this.selectedOrgID = JSON.parse(this.selectedOrgID);\n    }\n\n    if (this.selectedOrgID) {\n      this.resetToLastState();\n      this.updatePageData()\n    }\n\n    this.localService.watchOrgData().subscribe((resp) => {\n      if (resp) {\n        // console.log('')\n        let orgId: any = this.localService.getItem(\"selectedOrgs\")\n        if (orgId) {\n          orgId = JSON.parse(orgId);\n        }\n        let isEqual = true;\n        if (this.selectedOrgID && this.selectedOrgID.length && orgId && orgId.length) {\n          isEqual = (orgId.length === this.selectedOrgID.length) && (orgId.every(val => this.selectedOrgID.includes(val)));\n        }\n        else {\n          isEqual = false;\n        }\n        if (!isEqual) {\n          this.selectedOrgID = [...orgId];\n          this.resetToLastState();\n          this.updatePageData();\n        }\n\n      }\n    });\n\n  }\n\n  isInvalidDate = (m) => {\n    return this.invalidDates.some(d => d.isSame(m, 'day'));\n  }\n\n  isTooltipDate = (m) => {\n    const tooltip = this.tooltips.find(tt => tt.date.isSame(m, 'day'));\n    if (tooltip) {\n      return tooltip.text;\n    } else {\n      return false;\n    }\n  }\n\n  rangeClicked(label) {\n    // console.log('[rangeClicked] range is : ', label);\n  }\n\n  datesUpdated(range) {\n    //  console.log('[datesUpdated] range is : ', range);\n  }\n\n\n  changeState() {\n    this.isCollapsed = !this.isCollapsed;\n    if (!this.isCollapsed) {\n      this.resetToLastState();\n    }\n  }\n\n  //polar graph\n  polarChart;\n  polarGraph(dataPoints,label) {\n    const data = {\n      labels: label,\n      datasets: [{\n        label: 'My First Dataset',\n        data: dataPoints,\n        backgroundColor: [\n          '\trgb(0, 203, 160)',\n          'rgb(255, 234, 108)',\n          'rgb(250, 20, 100)',\n          '\trgb(255, 153, 80)',\n          '\trgb(255, 112, 112)',\n          'rgb(255, 205, 86)',\n        ],\n      }]\n\n    };\n\n    let htmlRef = this.elementRef.nativeElement.querySelector(`#myChart`);\n    if (this.polarChart) this.polarChart.destroy();\n    this.polarChart = new Chart(htmlRef, {\n      type: 'pie',\n      data: data,\n      options: {\n        \n        responsive: true,\n        maintainAspectRatio: false,\n        \n        layout: {\n          padding: {\n            left: 0,\n          }\n        },\n        plugins: {\n          \n          legend: {\n          \n            display: true,\n            position: 'left',\n          },\n          tooltip: {\n            enabled: true,\n            backgroundColor: \"white\",\n            callbacks: {\n              labelTextColor: (context) => {\n                return 'black'\n              }\n            }\n          },\n        }\n      }\n    });\n  }\n\n  //line graph\n  mainLineChart;\n  lineChart(labels, point, title) {\n    var labels = labels\n\n    const datapoints = point;\n\n    let htmlRef = this.elementRef.nativeElement.querySelector(`#myLineChart`);\n    if (this.mainLineChart) this.mainLineChart.destroy();\n    this.mainLineChart = new Chart(htmlRef, {\n      type: 'line',\n      data: {\n        labels: labels,\n        datasets: [\n          {\n            label: title,\n            data: datapoints,\n            borderColor: '#4DBFFF',\n            fill: false,\n            cubicInterpolationMode: 'monotone',\n            tension: 0.4,\n            pointBackgroundColor: \"#FA1464\",\n          },\n        ]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        elements: {\n          point: {\n            radius: 0\n          }\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            enabled: true,\n            backgroundColor: \"#001E50\",\n            titleAlign: 'center',\n            footerAlign: 'center',\n            bodyAlign: 'center',\n            callbacks: {\n              labelTextColor: (context) => {\n                return '#fff'\n              }\n            }\n\n          }\n        },\n        interaction: {\n          intersect: false,\n        },\n        scales: {\n          x: {\n            display: true,\n          },\n          y: {\n            display: true,\n            // min: -10, \n            max: AppConfig.gaugeMax,\n            ticks: {\n              precision: 0\n              // stepSize: 10,\n              // callback: (value, index, values) => {\n              //   return (index == (values.length-1)) ?  undefined :  value\n              // }\n            }\n          }\n        }\n\n      },\n    });\n\n  }\n\n  miniChartObj: any = {}\n  miniChart(id?, color?, label?, dataPoint?) {\n    var labels = label\n    var datapoints = dataPoint;\n    let ids = '#' + id\n    let htmlRef = this.elementRef.nativeElement.querySelector(ids);\n    var gradient = htmlRef.getContext('2d').createLinearGradient(0, 0, 0, 600);\n\n    if (color == '#00CBA0') {\n      gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n      gradient.addColorStop(0, 'rgba(0, 203, 160, 0.1)');\n    }\n    else {\n      gradient.addColorStop(1, 'rgba(255, 255, 255, 0.9)');\n      gradient.addColorStop(0, 'rgba(255, 112, 112, 0.25)');\n    }\n    if (this.miniChartObj[id]) this.miniChartObj[id].destroy();\n    this.miniChartObj[id] = new Chart(htmlRef, {\n      type: 'line',\n      data: {\n        labels: labels,\n        datasets: [\n          {\n            data: datapoints,\n            borderColor: color,\n            fill: true,\n            cubicInterpolationMode: 'monotone',\n            tension: 0.4,\n            pointBackgroundColor: \"#FA1464\",\n            backgroundColor: gradient\n          },\n        ]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        elements: {\n          point: {\n            radius: 0\n          }\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            enabled: false,\n            backgroundColor: '#001E50',\n            titleAlign: 'center',\n            footerAlign: 'center',\n            bodyAlign: 'center',\n            callbacks: {\n              labelTextColor: (context) => {\n                return '#fff'\n              }\n            }\n\n          },\n          title: {\n            display: true,\n          },\n        },\n        interaction: {\n          intersect: false,\n        },\n        scales: {\n          x: {\n            display: false,\n            title: {\n              display: true\n            }\n          },\n          y: {\n            display: false,\n            title: {\n              display: true,\n            }\n          }\n        }\n\n      },\n    });\n  }\n\n  changeBoxValue(num) {\n    this.boxVal = num;\n    if (num == 1) {\n      this.title = 'Speed score';\n      this.lineChart(this.chartData.date, this.chartData.speed, this.title)\n      this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedSpeedingId)\n      this.worstDriver(this.RULE_ID.RulePostedSpeedingId)\n    }\n    else if (num == 2) {\n      this.title = 'Acceleration score';\n      this.lineChart(this.chartData.date, this.chartData.acc, this.title)\n      this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedAccelerationId)\n      this.worstDriver(this.RULE_ID.RulePostedAccelerationId)\n    }\n    else if (num == 3) {\n      this.title = 'Braking score';\n      this.lineChart(this.chartData.date, this.chartData.braking, this.title)\n      this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedBreakingId)\n      this.worstDriver(this.RULE_ID.RulePostedBreakingId)\n    }\n    else if (num == 4) {\n      this.title = 'Cornering score';\n      this.lineChart(this.chartData.date, this.chartData.cornering, this.title)\n      this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedCorneringId)\n      this.worstDriver(this.RULE_ID.RulePostedCorneringId)\n    }\n    else {\n      this.title = 'Idiling score';\n      this.lineChart(this.chartData.date, this.chartData.idiling, this.title)\n      this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedIdlingId)\n      this.worstDriver(this.RULE_ID.RulePostedIdlingId)\n    }\n  }\n\n  resetToLastState() {\n    let date: any = this.localService.getItem(\"dateRange\")\n    if (date) {\n      date = JSON.parse(date)\n      this.selected = {\n        startDate: moment(date.startDate),\n        endDate: moment(date.endDate)\n      };\n      this.selectedShow = this.selected;\n    }\n    else {\n      this.selectedShow = {\n        startDate: moment().subtract(1, 'month').startOf('month').set('hours', 0).set('minutes', 0),\n         endDate: moment().subtract(1, 'month').endOf('month').set('hours', 23).set('minutes', 59)\n      };\n      this.selected = {\n        startDate: moment().subtract(1, 'month').startOf('month').set('hours', 0).set('minutes', 0),\n        endDate: moment().subtract(1, 'month').endOf('month').set('hours', 23).set('minutes', 59)\n      };\n    }\n  }\n\n  resetFilter() {\n    this.selectedShow = {\n      startDate: moment().subtract(1, 'month').startOf('month').set('hours', 0).set('minutes', 0),\n      endDate: moment().subtract(1, 'month').endOf('month').set('hours', 23).set('minutes', 59)\n    };\n    this.filterApply();\n  }\n\n\n  filterApply() {\n    this.localService.setItem(\"dateRange\", JSON.stringify(this.selectedShow))\n    this.selected = this.selectedShow;\n    this.updatePageData();\n    this.changeState();\n  }\n\n\n  updatePageData() {\n    this.getDashboardData();\n    this.worstDriver(this.RULE_ID.RulePostedSpeedingId);\n    this.polardata();\n\n  }\n  polardata() {\n    let querryParams = this.createQuerryparams()\n    this.service.get(`dashboard/exception-ratio?${querryParams}`).pipe().subscribe(response => {\n      if (response.data) {\n        this.exceptionRatio = response.data;\n        let total = this.exceptionRatio.reduce(\n          (previousValue, currentValue) => previousValue + Number(currentValue.score_type_count),\n          0\n        )\n        for (let i = 0; i < this.exceptionRatio.length; i++) {\n          this.polarObject[this.exceptionRatio[i].score_type] = ((this.exceptionRatio[i].score_type_count /total)*100).toFixed(1) ;\n        }\n        let data = [];\n        let label = [];\n        for(let keys in this.polarObject){\n           if(this.polarObject[keys] && this.polarObject[keys]!=='0.0'){\n             data.push(this.polarObject[keys])\n             label.push(this.exceptionObject[keys])\n           }\n        }\n        // console.log(data,label)\n        this.polarGraph(data,label);\n      }\n    }, (error) => {\n      this.dashBoardData = {};\n    })\n  }\n  worstDriver(id) {\n    let querryParams = this.createQuerryparams()\n    this.service.get(`dashboard/worst-driver?${querryParams}`).pipe().subscribe(response => {\n      if (response.data) {\n        this.worstDriverdetail = response.data;\n      }\n    }, (error) => {\n      this.dashBoardData = {};\n    })\n  }\n  getDashboardData() {\n    let querryParams = this.createQuerryparams()\n    this.service.get(`zego/dashboard/activity-count-v2?${querryParams}`).pipe().subscribe(response => {\n      if (response.data) {\n        this.dashBoardData = response.data;\n        this.dashBoardData['safeScoreChange'] =  parseFloat(this.dashBoardData.pre_safe_score)? ((parseFloat(this.dashBoardData.safe_score) - parseFloat(this.dashBoardData.pre_safe_score))/parseFloat(this.dashBoardData.pre_safe_score))*100 : 0;\n       \n        this.dashBoardData['driverChange'] =  parseFloat(this.dashBoardData.pre_total_drivers)? ((parseFloat(this.dashBoardData.total_drivers) - parseFloat(this.dashBoardData.pre_total_drivers))/parseFloat(this.dashBoardData.pre_total_drivers))*100 : 0;\n       \n        this.dashBoardData['tripChange'] =  parseFloat(this.dashBoardData.pre_total_trips)? ((parseFloat(this.dashBoardData.total_trips) - parseFloat(this.dashBoardData.pre_total_trips))/parseFloat(this.dashBoardData.pre_total_trips))*100 : 0;\n\n        this.dashBoardData['vehicleChange'] =  parseFloat(this.dashBoardData.pre_total_vehicles)? ((parseFloat(this.dashBoardData.total_vehicles) - parseFloat(this.dashBoardData.pre_total_vehicles))/parseFloat(this.dashBoardData.pre_total_vehicles))*100 : 0;\n        \n        this.dashBoardData['speedChange'] =  parseFloat(this.dashBoardData.pre_speed_score)? ((parseFloat(this.dashBoardData.speed_score) - parseFloat(this.dashBoardData.pre_speed_score))/parseFloat(this.dashBoardData.pre_speed_score))*100 : 0;\n\n        this.dashBoardData['idilingChange'] =  parseFloat(this.dashBoardData.pre_idling_score)? ((parseFloat(this.dashBoardData.idling_score) - parseFloat(this.dashBoardData.pre_idling_score))/parseFloat(this.dashBoardData.pre_idling_score))*100 : 0;\n       \n        this.dashBoardData['accChange'] =  parseFloat(this.dashBoardData.pre_acceleration_score)? ((parseFloat(this.dashBoardData.acceleration_score) - parseFloat(this.dashBoardData.pre_acceleration_score))/parseFloat(this.dashBoardData.pre_acceleration_score))*100 : 0;\n       \n        this.dashBoardData['brakingChange'] =  parseFloat(this.dashBoardData.pre_breaking_score)? ((parseFloat(this.dashBoardData.breaking_score) - parseFloat(this.dashBoardData.pre_breaking_score))/parseFloat(this.dashBoardData.pre_breaking_score))*100 : 0;\n       \n        this.dashBoardData['cornerChange'] =  parseFloat(this.dashBoardData.pre_cornering_score)? ((parseFloat(this.dashBoardData.cornering_score) - parseFloat(this.dashBoardData.pre_cornering_score))/parseFloat(this.dashBoardData.pre_cornering_score))*100 : 0;\n        this.getChartData();\n      }\n    }, (error) => {\n      this.dashBoardData = {};\n    })\n  }\n\n\n  getChartData() {\n    let querryParams = this.createQuerryparams()\n    this.chartData = { date: [], speed: [], acc: [], braking: [], idiling: [], cornering: [] }\n    this.service.get(`driving-analytics-graph?${querryParams}&score_type=safe_score`).pipe().subscribe(response => {\n      if (response.data && response.data.length) {\n        response.data.forEach(element => {\n          this.chartData.date.push(moment.utc(element.date).format('DD/MM'))\n          this.chartData.speed.push(this.formatToFixed(element.speed_score,1))\n          this.chartData.acc.push(this.formatToFixed(element.acceleration_score,1))\n          this.chartData.braking.push(this.formatToFixed(element.breaking_score,1))\n          this.chartData.idiling.push(this.formatToFixed(element.idling_score,1))\n          this.chartData.cornering.push(this.formatToFixed(element.cornering_score,1))\n        });\n      }\n      this.miniChart('speedingChart', this.dashBoardData['speedChange'] >= 0? '#00CBA0': '#FF7070', this.chartData.date, this.chartData.speed);\n      this.miniChart('idilingChart',  this.dashBoardData['idilingChange'] >= 0? '#00CBA0': '#FF7070', this.chartData.date, this.chartData.idiling);\n      this.miniChart('accelerationChart',  this.dashBoardData['accChange'] >= 0? '#00CBA0': '#FF7070', this.chartData.date, this.chartData.acc);\n      this.miniChart('brakingChart', this.dashBoardData['brakingChange'] >= 0? '#00CBA0': '#FF7070', this.chartData.date, this.chartData.braking);\n      this.miniChart('corneringChart',  this.dashBoardData['cornerChange'] >= 0? '#00CBA0': '#FF7070', this.chartData.date, this.chartData.cornering);\n      this.boxVal = 1;\n      this.title = 'Speed score';\n      this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedSpeedingId)\n      this.lineChart(this.chartData.date, this.chartData.speed, this.title)\n    }, (error) => {\n    })\n  }\n\n  getExceptionCategoryWiseData(id){\n    let querryParams = this.createQuerryparams()\n    this.service.get(`dashboard/exception-type-ratio?${querryParams}&rule_id=${id}`).pipe().subscribe(response => {\n      if (response.data) {\n        this.exceptionData = response.data;\n        this.exceptionData.violated_drivers = Number(this.exceptionData.violated_drivers)\n        if(this.exceptionData.violated_drivers)\n        this.exceptionData['ratio'] = ((this.exceptionData.violated_drivers/ this.dashBoardData.total_drivers)*100).toFixed(1);\n        else\n        this.exceptionData['ratio'] = 0;\n      }\n    }, (error) => {\n      this.dashBoardScore = {};\n    })\n  }\n\n  createQuerryparams() {\n    let querryParams = `organisation=${JSON.stringify(this.selectedOrgID)}`;\n    querryParams = querryParams + `&from_date=${moment(this.selected.startDate).format('YYYY-MM-DD')}`\n    querryParams = querryParams + `&to_date=${moment(this.selected.endDate).format('YYYY-MM-DD')}`\n    // querryParams = querryParams + `&custom_filter=true`\n    // console.log(this.selected.startDate,this.selected.enddate)\n    // console.log(this.service.checkCustomDate(moment(this.selected.startDate).format('YYYY-MM-DD'),moment(this.selected.endDate).format('YYYY-MM-DD')))\n    let val = this.service.checkCustomDate(moment(this.selected.startDate).format('YYYY-MM-DD'),moment(this.selected.endDate).format('YYYY-MM-DD'))\n       if(val == undefined){\n      querryParams = querryParams + `&custom_filter=true&filter_value=''`\n    }\n    else{\n      querryParams = querryParams + `&custom_filter=false&filter_value=${val}`\n    }\n    return querryParams;\n    \n  }\n\n  routeToDriver(id){\n    this.route.navigate([RouteConfig.driver.url], { queryParams: { rule: id } })\n  }\n\n  formatToFixed(val, precision) {\n    if (typeof val == 'string') {\n      val = parseFloat(val)\n    }\n    if (val) {\n      return val.toFixed(precision);\n    }\n    return 0;\n  }\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.innerWidth = event.target.innerWidth;\n    if(this.innerWidth<=992){\n      \n    }\n  }\n}\n","<div class=\"mainFilter\">\n    <div class=\"filterHeader\">\n        Dashboard\n        <div>\n            <button class=\"btn btnFiliter\" (click)=\"changeState()\" [attr.aria-expanded]=\"!isCollapsed\"\n                aria-controls=\"collapseExample\"><img src=\"assets/images/filter.svg\">\n            </button> <button class=\"btn btnFilterExport enable-click-event\"><img\n                    src=\"assets/images/export.svg\"></button>\n        </div>\n    </div>\n    <div #collapse=\"ngbCollapse\" [(ngbCollapse)]=\"isCollapsed\">\n        <div class=\"filterBody\">\n            <div class=\"filterBodyTitle\">\n                <h4>Filters</h4>\n                <span (click)=\"changeState()\"><img src=\"assets/images/close-circle.svg\"></span>\n            </div>\n\n            <div class=\"profileBox\">\n                <mat-form-field class=\"ngx-daterangepicker-action-left fields fileld50\" appearance=\"outline\">\n                    <mat-label>{{\"selectRange\" | translate}}</mat-label>\n                    <input matInput ngxDaterangepickerMd [(ngModel)]=\"selectedShow\" [showCustomRangeLabel]=\"true\"\n                        [alwaysShowCalendars]=\"alwaysShowCalendars\" [ranges]=\"ranges\" [showClearButton]=\"false\"\n                        [showCancel]=\"true\" [linkedCalendars]=\"true\" [isTooltipDate]=\"isTooltipDate\"\n                        [isInvalidDate]=\"isInvalidDate\" [locale]=\"{applyLabel: 'Set Date'}\"\n                        (rangeClicked)=\"rangeClicked($event)\" (datesUpdated)=\"datesUpdated($event)\"\n                        [keepCalendarOpeningWithRange]=\"keepCalendarOpeningWithRange\"\n                        [showRangeLabelOnInput]=\"showRangeLabelOnInput\" readonly />\n                    <span class=\"calIconRight\"><img src=\"assets/images/calendar.svg\"></span>\n                </mat-form-field>\n            </div>\n\n            <div class=\"d-flex flex-wrap justify-content-between mt-2\">\n                <div>\n                </div>\n                <div class=\"d-flex flex-wrap\">\n                    <div>\n                        <button (click)=\"resetToLastState();resetFilter()\" mat-button\n                            class=\"filterBtn cancleBtn\">Reset</button>\n                    </div>\n                    <div>\n                        <button (click)=\"filterApply()\" mat-button class=\"filterBtn applyBtn\">{{\"apply\" | translate}}</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class=\"dashboardBox\">\n    <div class=\"box\">\n        <p class=\"title\">{{\"safeDrivingScore\" | translate}}</p>\n        <h4 class=\"value\">{{service.convertToDutch(dashBoardData?.safe_score) || '0'}}\n            <ng-container *ngIf=\"dashBoardData.safeScoreChange < 0; else elseTemplate11\">\n                <span class=\"danger\"><img\n                    src=\"assets/images/down-arrow.svg\">{{service.convertToDutch(dashBoardData?.safeScoreChange) || '0'}}%</span>\n            </ng-container>\n            <ng-template #elseTemplate11>\n                <span class=\"success\"><img\n                    src=\"assets/images/send.svg\">{{service.convertToDutch(dashBoardData?.safeScoreChange) || '0'}}%</span>\n            </ng-template>\n        </h4>\n    </div>\n    <div class=\"box driver\">\n        <p class=\"title\"> {{\"driver\" | translate}}</p>\n        <h4 class=\"value\">{{service.convertToDutch(dashBoardData?.total_drivers || '0')}}\n            <ng-container *ngIf=\"dashBoardData.driverChange < 0; else elseTemplate12\">\n                <span class=\"danger\"><img\n                    src=\"assets/images/down-arrow.svg\">{{service.convertToDutch(dashBoardData?.driverChange) || '0'}}%</span>\n            </ng-container>\n            <ng-template #elseTemplate12>\n                <span class=\"success\"><img\n                    src=\"assets/images/send.svg\">{{service.convertToDutch(dashBoardData?.driverChange) || '0'}}%</span>\n            </ng-template>\n        </h4>\n    </div>\n    <div class=\"box trips\">\n        <p class=\"title\"> {{\"sidebar.trip\" | translate}}</p>\n        <h4 class=\"value\">{{service.convertToDutch(dashBoardData?.total_trips)}}\n            <ng-container *ngIf=\"dashBoardData.tripChange < 0; else elseTemplate13\">\n                <span class=\"danger\"><img\n                    src=\"assets/images/down-arrow.svg\">{{service.convertToDutch(dashBoardData?.tripChange) || '0'}}%</span>\n            </ng-container>\n            <ng-template #elseTemplate13>\n                <span class=\"success\"><img\n                    src=\"assets/images/send.svg\">{{service.convertToDutch(dashBoardData?.tripChange) || '0'}}%</span>\n            </ng-template>\n        </h4>\n    </div>\n    <div class=\"box vehicles\">\n        <p class=\"title\"> {{\"v.vehicle\" | translate}}</p>\n        <h4 class=\"value\">{{service.convertToDutch(dashBoardData?.total_vehicles)}}\n            <ng-container *ngIf=\"dashBoardData.vehicleChange < 0; else elseTemplate14\">\n                <span class=\"danger\"><img\n                    src=\"assets/images/down-arrow.svg\">{{service.convertToDutch(dashBoardData?.vehicleChange) || '0'}}%</span>\n            </ng-container>\n            <ng-template #elseTemplate14>\n                <span class=\"success\"><img\n                    src=\"assets/images/send.svg\">{{service.convertToDutch(dashBoardData?.vehicleChange) || '0'}}%</span>\n            </ng-template>\n        </h4>\n    </div>\n</div>\n\n<div class=\"exceptionBox mt-3\">\n    <div class=\"exBox\" [ngClass]=\"{'active': boxVal == 1}\"  (click)=\"changeBoxValue(1)\">\n        <div class=\"valueBox\">\n            {{service.convertToDutch(dashBoardData?.speed_score)}}\n            <ng-container *ngIf=\"dashBoardData?.speedChange >= 0; else elseTemplate15\">\n                <span class=\"green\"><img\n                    src=\"assets/images/Iconsup.png\"> {{service.convertToDutch(dashBoardData?.speedChange) || '0'}}% </span>\n            </ng-container>\n            <ng-template #elseTemplate15>\n                 <span class=\"red\"><img\n                    src=\"assets/images/IconsDown.png\"> {{service.convertToDutch(dashBoardData?.speedChange) || '0'}}% </span>\n            </ng-template>\n        </div>\n        <div class=\"speedChart\" style=\"height: 100px\">\n            <canvas id=\"speedingChart\"></canvas>\n        </div>\n        <p class=\"expName\">{{\"speeding\" | translate}}</p>\n    </div>\n    <div class=\"exBox\" [ngClass]=\"{'active': boxVal == 5}\" (click)=\"changeBoxValue(5)\">\n        <div class=\"valueBox\">\n            {{service.convertToDutch(dashBoardData?.idling_score)}} \n            <ng-container *ngIf=\"dashBoardData?.idilingChange >= 0; else elseTemplate16\">\n                <span class=\"green\"><img\n                    src=\"assets/images/Iconsup.png\"> {{service.convertToDutch(dashBoardData?.idilingChange) || '0'}}% </span>\n            </ng-container>\n            <ng-template #elseTemplate16>\n                 <span class=\"red\"><img\n                    src=\"assets/images/IconsDown.png\"> {{service.convertToDutch(dashBoardData?.idilingChange) || '0'}}% </span>\n            </ng-template>\n        </div>\n        <div class=\"speedChart\" style=\"height: 100px\">\n            <canvas id=\"idilingChart\"></canvas>\n        </div>\n        <p class=\"expName\">{{\"idiling\" | translate}}</p>\n    </div>\n    <div class=\"exBox\" [ngClass]=\"{'active': boxVal == 2}\" (click)=\"changeBoxValue(2)\">\n        <div class=\"valueBox\">\n            {{service.convertToDutch(dashBoardData?.acceleration_score)}} \n            <ng-container *ngIf=\"dashBoardData?.accChange >= 0; else elseTemplate17\">\n                <span class=\"green\"><img\n                    src=\"assets/images/Iconsup.png\"> {{service.convertToDutch(dashBoardData?.accChange) || '0'}}% </span>\n            </ng-container>\n            <ng-template #elseTemplate17>\n                 <span class=\"red\"><img\n                    src=\"assets/images/IconsDown.png\"> {{service.convertToDutch(dashBoardData?.accChange) || '0'}}% </span>\n            </ng-template>\n        </div>\n        <div class=\"speedChart\" style=\"height: 100px\">\n            <canvas id=\"accelerationChart\"></canvas>\n        </div>\n        <p class=\"expName\">{{\"hardAcceleration\" | translate}}</p>\n    </div>\n    <div class=\"exBox\" [ngClass]=\"{'active': boxVal == 3}\" (click)=\"changeBoxValue(3)\">\n        <div class=\"valueBox\">\n            {{service.convertToDutch(dashBoardData?.breaking_score)}} \n            <ng-container *ngIf=\"dashBoardData?.brakingChange >= 0; else elseTemplate18\">\n                <span class=\"green\"><img\n                    src=\"assets/images/Iconsup.png\"> {{service.convertToDutch(dashBoardData?.brakingChange) || '0'}}% </span>\n            </ng-container>\n            <ng-template #elseTemplate18>\n                 <span class=\"red\"><img\n                    src=\"assets/images/IconsDown.png\"> {{service.convertToDutch(dashBoardData?.brakingChange) || '0'}}% </span>\n            </ng-template>\n        </div>\n        <div class=\"speedChart\" style=\"height: 100px\">\n            <canvas id=\"brakingChart\"></canvas>\n        </div>\n        <p class=\"expName\">{{\"hardBraking\" | translate}}</p>\n    </div>\n    <div class=\"exBox\" [ngClass]=\"{'active': boxVal == 4}\" (click)=\"changeBoxValue(4)\">\n        <div class=\"valueBox\">\n            {{service.convertToDutch(dashBoardData?.cornering_score)}}\n            <ng-container *ngIf=\"dashBoardData?.cornerChange >= 0; else elseTemplate19\">\n                <span class=\"green\"><img\n                    src=\"assets/images/Iconsup.png\"> {{service.convertToDutch(dashBoardData?.cornerChange) || '0'}}% </span>\n            </ng-container>\n            <ng-template #elseTemplate19>\n                 <span class=\"red\"><img\n                    src=\"assets/images/IconsDown.png\"> {{service.convertToDutch(dashBoardData?.cornerChange) || '0'}}% </span>\n            </ng-template>\n        </div>\n        <div class=\"speedChart\" style=\"height: 100px\">\n            <canvas id=\"corneringChart\"></canvas>\n        </div>\n        <p class=\"expName\">{{\"harshCorner\" | translate}}</p>\n    </div>\n</div>\n<!-- grapg section -->\n<div class=\"dashGraphBox\">\n    <div class=\"boxBack left60\">\n        <canvas id=\"myLineChart\"></canvas>\n        <h4 class=\"graphTitle\">{{title}}</h4>\n    </div>\n    <div class=\"boxBack right40 \">\n        <h4 class=\"exceptionTitle mb-0\">{{\"exceptionRatio\" | translate}}</h4>\n        <div class=\"graphSide\">\n            <canvas id=\"myChart\" height=\"250\"></canvas>\n        </div>\n        <!-- <div class=\"d-flex flex-wrap justify-content-between align-items-center\">\n            <div class=\"exceptionSide\">\n\n                <div class=\"getRide\">\n                    <p class=\"speed\">Speeding</p>\n                    <p class=\"idiling\">Idiling</p>\n                    <p class=\"ridOfmax1\">Harsh Acceleration</p>\n                    <p class=\"braking\">Harsh Braking</p>\n                    <p class=\"warning\">Harsh Cornering</p>\n                </div>\n            </div>\n            \n        </div> -->\n    </div>\n</div>\n\n<!-- table -->\n\n<div class=\"dashGraphBox\">\n    <div class=\"boxBack left60\">\n        <h4 class=\"tableTitle\">{{\"top5Worstdriver\" | translate}}</h4>\n        <div class=\"table-responsive\">\n            <table mat-table [dataSource]=\"worstDriverdetail\" class=\"mat-elevation-z8 w-100 booking-table\">\n                <!-- Item Column -->\n                <ng-container matColumnDef=\"item\">\n                    <th mat-header-cell *matHeaderCellDef> {{\"d.driverName\" | translate }} </th>\n                    <td mat-cell *matCellDef=\"let transaction\"> {{transaction?.driver_detail?.first_name}}\n                        {{transaction?.driver_detail?.last_name}} </td>\n                    <!-- <td mat-footer-cell *matFooterCellDef> Total </td> -->\n                </ng-container>\n\n                <!-- Total trips Column -->\n                <ng-container matColumnDef=\"cost\">\n                    <th mat-header-cell *matHeaderCellDef> {{\"t.ride\" | translate }}</th>\n                    <td mat-cell *matCellDef=\"let transaction\"> {{service.convertToDutch(transaction?.total_trips)}}\n                    </td>\n                    <!-- <td mat-footer-cell *matFooterCellDef> {{getTotalCost() | currency}} </td> -->\n                </ng-container>\n\n                <!-- Safe score Column -->\n                <ng-container matColumnDef=\"score\">\n                    <th mat-header-cell *matHeaderCellDef> {{\"safeDrivingScore\" | translate }} </th>\n                    <td mat-cell *matCellDef=\"let transaction\">\n                        {{service.convertToDutch(transaction?.safe_score) || '0'}} </td>\n                    <!-- <td mat-footer-cell *matFooterCellDef> {{getTotalCost() | currency}} </td> -->\n                </ng-container>\n\n                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n                <!-- <tr mat-footer-row *matFooterRowDef=\"displayedColumns\"></tr> -->\n            </table>\n        </div>\n    </div>\n    <div class=\"boxBack right40-second p-5\">\n\n        <!-- boxVal = 1 -->\n        <div class=\"speedingAverage\" *ngIf=\"boxVal==1\">\n            <h4 class=\"exceptionTitle speedtitle\">{{\"speedAverage\" | translate}}</h4>\n            <!-- <div class=\"firsthaldf\">\n                <span class=\"msg driveTooFast\">\n\n                    {{service.convertToDutch(formatToFixed(exceptionData?.driven_too_fast,2))}}%\n                </span>\n                <h4 class=\"mb-0 driventitle\"> {{\"t.drivenFast\" | translate}}</h4>\n                <div>\n                    <mat-progress-bar class=\"driveFast\" mode=\"determinate\" [value]=\"(exceptionData?.driven_too_fast)\">\n                    </mat-progress-bar>\n                </div>\n            </div> -->\n            <div class=\"firsthaldf\">\n                <span class=\"msg speedAvg\">\n\n                    {{service.convertToDutch(formatToFixed(exceptionData?.avg_speed,2))}}\n                </span>\n                <h4 class=\"mb-0 avgspeed\"> {{\"t.avgSpeed\" | translate}}</h4>\n                <div>\n                    <mat-progress-bar class=\"avgSpeed\" mode=\"determinate\" [value]=\"(exceptionData?.avg_speed)\">\n                    </mat-progress-bar>\n                </div>\n            </div>\n            <div class=\"show5 w-100 cursor\" (click)=\"routeToDriver(RULE_ID.RulePostedSpeedingId)\">\n                {{\"top5speeding\" | translate}}\n            </div>\n        </div>\n\n        <!-- boxVal = 2 -->\n        <div class=\"harshAcceleration\" *ngIf=\"boxVal==2\">\n            <h4 class=\"exceptionTitle\">{{\"harshAccException\" | translate}}</h4>\n            <div class=\"dashboardBox dataBox\">\n                <div class=\"box box100 grayBox\">\n                    <div class=\"leftData\">\n                        <p class=\"title\"> {{\"totalNumDrivers\" | translate}}</p>\n                        <h4 class=\"value noDrivers\">{{service.convertToDutch(dashBoardData?.total_drivers || '0')}}</h4>\n                    </div>\n                </div>\n                <div class=\"box box100 grayBox\">\n                    <div class=\"leftData\">\n                        <p class=\"title\"> {{\"driverWhoViolated\" | translate}}</p>\n                        <h4 class=\"value dViolated align-items-center\">\n                            {{service.convertToDutch(exceptionData.violated_drivers)}} <span\n                                class=\"msg driveTooFast textWhite\">{{service.convertToDutch(exceptionData.ratio)}}%</span>\n                        </h4>\n                    </div>\n                </div>\n                <div class=\"show5 w-100 cursor\" (click)=\"routeToDriver(RULE_ID.RulePostedAccelerationId)\">\n                    {{\"top5acc\" | translate}}\n                </div>\n            </div>\n        </div>\n\n        <!-- boxVal = 3 -->\n        <div class=\"harshBraking\" *ngIf=\"boxVal==3\">\n            <h4 class=\"exceptionTitle\">{{\"harshBrakingException\" | translate}}</h4>\n            <div class=\"dashboardBox dataBox\">\n                <div class=\"box box100 grayBox\">\n                    <div class=\"leftData\">\n                        <p class=\"title\"> {{\"totalNumDrivers\" | translate}}</p>\n                        <h4 class=\"value noDrivers\">{{service.convertToDutch(dashBoardData?.total_drivers || '0')}}</h4>\n                    </div>\n                </div>\n                <div class=\"box box100 grayBox\">\n                    <div class=\"leftData\">\n                        <p class=\"title\"> {{\"driverWhoViolated\" | translate}}</p>\n                        <h4 class=\"value dViolated align-items-center\">\n                            {{service.convertToDutch(exceptionData.violated_drivers)}} <span\n                                class=\"msg driveTooFast textWhite\">{{service.convertToDutch(exceptionData.ratio)}}%</span>\n                        </h4>\n                    </div>\n                </div>\n                <div class=\"show5 w-100 cursor\" (click)=\"routeToDriver(RULE_ID.RulePostedBreakingId)\">\n                    {{\"top5braking\" | translate}}\n                </div>\n            </div>\n        </div>\n\n        <!-- boxVal = 4 -->\n        <div class=\"harshCornering\" *ngIf=\"boxVal==4\">\n            <h4 class=\"exceptionTitle\">{{\"harshCorneringException\" | translate}}</h4>\n            <div class=\"dashboardBox dataBox\">\n                <div class=\"box box100 grayBox\">\n                    <div class=\"leftData\">\n                        <p class=\"title\"> {{\"totalNumDrivers\" | translate}}</p>\n                        <h4 class=\"value noDrivers\">{{service.convertToDutch(dashBoardData?.total_drivers || '0')}}</h4>\n                    </div>\n                </div>\n                <div class=\"box box100 grayBox\">\n                    <div class=\"leftData\">\n                        <p class=\"title\"> {{\"driverWhoViolated\" | translate}}</p>\n                        <h4 class=\"value dViolated align-items-center\">\n                            {{service.convertToDutch(exceptionData?.violated_drivers)}} <span\n                                class=\"msg driveTooFast textWhite\">{{service.convertToDutch(exceptionData?.ratio)}}%</span>\n                        </h4>\n                    </div>\n                </div>\n                <div class=\"show5 w-100 cursor\" (click)=\"routeToDriver(RULE_ID.RulePostedCorneringId)\">\n                    {{\"top5cornering\" | translate}}\n                </div>\n            </div>\n        </div>\n\n        <!-- boxVal = 5 -->\n        <div class=\"idilingBox\" *ngIf=\"boxVal==5\">\n            <div class=\"\">\n                <h4 class=\"exceptionTitle\">{{\"consumptionWhileidiling\" | translate}}</h4>\n            </div>\n            <div class=\"dashboardBox dataBox\">\n                <div class=\"box box100\">\n                    <div class=\"leftData\">\n                        <p class=\"title\"> EV</p>\n                        <h4 class=\"value\">{{service.convertToDutch(exceptionData?.ev)}} kWh</h4>\n                    </div>\n                    <div class=\"\">\n                        <img src=\"assets/images/evCharge.png\">\n                    </div>\n                </div>\n                <div class=\"box box100 iceBox\">\n                    <div class=\"leftData\">\n                        <p class=\"title\"> ICE</p>\n                        <h4 class=\"value\">{{service.convertToDutch(exceptionData?.ice)}} ltr</h4>\n                    </div>\n                    <div class=\"\">\n                        <img src=\"assets/images/ice.png\">\n                    </div>\n                </div>\n                <div class=\"show5 w-100 cursor\" (click)=\"routeToDriver(RULE_ID.RulePostedIdlingId)\">\n                    {{\"top5idling\" | translate}}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DashboardRoutingModule } from './dashboard-routing.module';\nimport { DashboardHomeComponent } from './dashboard-home/dashboard-home.component';\nimport { FormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgxDaterangepickerMd } from 'ngx-daterangepicker-material';\nimport { NgxGaugeModule } from 'ngx-gauge';\nimport { MaterialModules } from 'src/app/config/material';\nimport { DashboardHomeV2Component } from './dashboard-home-v2/dashboard-home-v2.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { DashboardCardComponent } from './dashboard-card/dashboard-card.component';\nimport { BarChartComponent } from './bar-chart/bar-chart.component';\nimport { NgxShimmerLoadingModule } from 'ngx-shimmer-loading';\n// import { FlexLayoutModule } from '@angular/flex-layout';\n\n\n@NgModule({\n  declarations: [DashboardHomeComponent, DashboardHomeV2Component, DashboardCardComponent, BarChartComponent],\n  imports: [\n    CommonModule,\n    DashboardRoutingModule,\n    MaterialModules,\n    NgbModule,\n    NgxGaugeModule,\n    FlexLayoutModule,\n    FormsModule,\n    NgxDaterangepickerMd.forRoot(),\n    TranslateModule.forChild({\n      extend: true\n    }),\n    NgxShimmerLoadingModule\n  ]\n})\nexport class DashboardModule { }\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { MainService } from 'src/app/services/main.service';\n\n@Component({\n  selector: 'app-dashboard-card',\n  templateUrl: './dashboard-card.component.html',\n  styleUrls: ['./dashboard-card.component.scss']\n})\nexport class DashboardCardComponent implements OnInit {\n@Input() border='red';\n@Input() type:any;\n@Input() data:any;\n background=''\n browsername='';\n  constructor(public service: MainService, private cd: ChangeDetectorRef) { \n    this.browsername=this.service.detectBrowserName();\n  }\n\n  ngOnInit(): void {\n    if(this.border == '#F3543F'){\n      this.background='#FDDBD7'\n    }\n    else if(this.border== '#46E18C'){\n      this.background='#DDF8E9'\n    }\n    else{\n      this.background='#fff'\n    }\n    if((this.data && this.data.length < 5) || !this.data){\n      while(this.data.length < 5){\n        this.data.push({})\n      }\n    }\n  }\n\n  checkItem(obj){\n    let key = Object.keys(obj);\n    if(key.length) return true;\n    else return false;\n  }\n\n}\n","<section class=\"card-background\">\n  <div class=\"card-background__heading text-center\">\n    <h2 [ngClass]=\"{'safari': browsername == 'safari'}\">\n      <span  [autoClose]=\"true\" placement=\"top\" container=\"body\"\n      ngbTooltip=\"{{ 'topVehicleScore' | translate }}\" #tooltip3=\"ngbTooltip\" *ngIf=\"type == 1\">{{ \"topVehicleScore\" | translate }}</span>\n      <span  [autoClose]=\"true\" placement=\"top\" container=\"body\"\n      ngbTooltip=\"{{ 'bottomVehicle' | translate }}\" #tooltip3=\"ngbTooltip\" *ngIf=\"type == 2\">{{ \"bottomVehicle\" | translate }}</span>\n      <span  [autoClose]=\"true\" placement=\"top\" container=\"body\"\n      ngbTooltip=\"{{ 'mostTravelled' | translate }}\" #tooltip3=\"ngbTooltip\" *ngIf=\"type == 3\">{{ \"mostTravelled\" | translate }}</span>\n      <span  [autoClose]=\"true\" placement=\"top\" container=\"body\"\n      ngbTooltip=\"{{ 'vehicleProbableCrash' | translate }}\" #tooltip3=\"ngbTooltip\" *ngIf=\"type == 4\">{{ \"vehicleProbableCrash\" | translate }}</span>\n     \n    </h2>\n  </div>\n  <div class=\"d-flex w-100\" *ngFor=\"let item of data; let i = index\">\n    <div\n      class=\"number\"\n      [ngStyle]=\"{ border: '1px solid ' + border, background: background }\"\n    >\n      <span> {{ i + 1 }} </span>\n    </div>\n    <div\n      class=\"card-background__content\"\n      [ngStyle]=\"{ border: '1px solid ' + border, background: background }\"\n    >\n      <div class=\"test d-flex\" *ngIf=\"checkItem(item)\">\n        <div class=\"left\">\n          <span>{{ item?.license_plate }}</span>\n        </div>\n        <div class=\"wrapWord\" *ngIf=\"type == 3\">\n          -\n          {{\n            service.convertToDutch(service.formatToCeil(item?.total_distance))\n          }}\n          km\n        </div>\n        <div class=\"d-flex wrapWord\" *ngIf=\"type == 1 || type == 2 || type == 4\">\n          &nbsp;-\n          <div class=\"wrap-text\">\n            <span *ngIf=\"type == 4\">&nbsp;{{ \n              service.convertToDutch(service.formatToCeil(item?.safe_score )) || 'NA'}}<span *ngIf=\"type!=4\">-</span></span>\n          </div>\n         <span class=\"safeScorefont\" *ngIf=\"type !=4\"> &nbsp;&nbsp;{{ service.convertToDutch(item?.safe_score) }}</span>\n        </div>\n      </div>\n      <div class=\"test\" *ngIf=\"!checkItem(item)\">NA</div>\n    </div>\n  </div>\n</section>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RouteConfig } from 'src/app/config/route-config';\nimport { DashboardHomeV2Component } from './dashboard-home-v2/dashboard-home-v2.component';\nimport { DashboardHomeComponent } from './dashboard-home/dashboard-home.component';\n\nconst routes: Routes = [\n  {\n    path: \"d\",\n    component: DashboardHomeComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: \"\",\n    component: DashboardHomeV2Component,\n    pathMatch: 'full'\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DashboardRoutingModule { }\n","import { Component, ElementRef, Inject, OnInit } from \"@angular/core\";\nimport * as moment from \"moment\";\nimport { AppConfig } from \"src/app/config/app-config\";\nimport { Chart, registerables } from \"chart.js\";\nimport { Route, Router } from \"@angular/router\";\nimport { LocalService } from \"src/app/services/local.service\";\nimport { MainService } from \"src/app/services/main.service\";\nimport zoomPlugin from \"chartjs-plugin-zoom\";\nimport {\n  MatDialog,\n  MatDialogRef,\n  MAT_DIALOG_DATA,\n} from \"@angular/material/dialog\";\nimport { RouteConfig } from \"src/app/config/route-config\";\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n//table\ninterface Transaction {\n  item: string;\n  cost: string;\n  score: string;\n}\n\n@Component({\n  selector: \"app-dashboard-home-v2\",\n  templateUrl: \"./dashboard-home-v2.component.html\",\n  styleUrls: [\"./dashboard-home-v2.component.scss\"],\n})\nexport class DashboardHomeV2Component implements OnInit {\n  showSpeedingBox: boolean = true;\n  showIdilingBox: boolean = false;\n  showAccelerationBox: boolean = false;\n  showBrakingBox: boolean = false;\n  showCorneringBox: boolean = false;\n  isTripHistoryLoading: boolean = false;\n\n  tableView: string = \"table\";\n  noRoadTypeData: boolean = true;\n  public isCollapsed = true;\n\n  //checkoboxes\n  safeScoreCheckbox = true;\n  otherCheckbox = true;\n  speedingCheckbox = false;\n  idilingCheckbox = false;\n  accCheckbox = false;\n  brakingCheckbox = false;\n  corneringCheckbox = false;\n  removeArr = [];\n\n  safeScoreCheckboxsecond = true;\n  otherCheckboxsecond = true;\n  data = [{}, {}, {}];\n  maxDate: any = moment();\n\n  //table\n  displayedColumns: string[] = [\"item\", \"score\", \"cost\"];\n  transactions: Transaction[] = [\n    { item: \"Drivers name\", cost: \"View profile\", score: \"-10\" },\n    { item: \"Drivers name\", cost: \"View profile\", score: \"-10\" },\n    { item: \"Drivers name\", cost: \"View profile\", score: \"-10\" },\n    { item: \"Drivers name\", cost: \"View profile\", score: \"-10\" },\n    { item: \"Drivers name\", cost: \"View profile\", score: \"-10\" },\n  ];\n  items = [\n    { name: \"10:00\", imagePath: \"assets/images/Drizzle.svg\" },\n    { name: \"11:00\", imagePath: \"assets/images/Drizzle.svg\" },\n    { name: \"12:00\", imagePath: \"assets/images/Drizzle.svg\" },\n    { name: \"13:00\", imagePath: \"assets/images/Drizzle.svg\" },\n    { name: \"14:00\", imagePath: \"assets/images/sun.svg\" },\n    { name: \"15:00\", imagePath: \"assets/images/sun.svg\" },\n    { name: \"16:00\", imagePath: \"assets/images/sun.svg\" },\n    { name: \"17:00\", imagePath: \"assets/images/sun.svg\" },\n  ];\n\n  searchString: string;\n\n  selected: any = {\n    startDate: moment().subtract(6, \"days\").set(\"hours\", 0).set(\"minutes\", 0),\n    endDate: moment().set(\"hours\", 23).set(\"minutes\", 59),\n  };\n  selectedShow: any = {\n    startDate: moment().subtract(6, \"days\").set(\"hours\", 0).set(\"minutes\", 0),\n    endDate: moment().set(\"hours\", 23).set(\"minutes\", 59),\n  };\n\n  isFuelListLoading: boolean = false;\n\n  // dashboard new variables\n  RULE_ID = {\n    RulePostedSpeedingId: \"SpeedViolation\",\n    RulePostedBreakingId: \"BreakingViolation\",\n    RulePostedAccelerationId: \"AccelerationViolation\",\n    RulePostedIdlingId: \"IdlingViolation\",\n    RulePostedCorneringId: \"CorneringViolation\",\n  };\n  title: string = \"Safe score\";\n  chartData: any = {\n    date: [],\n    speed: [],\n    acc: [],\n    braking: [],\n    idiling: [],\n    cornering: [],\n    safe_score: [],\n    tsp_speed: [],\n    tsp_acc: [],\n    tsp_braking: [],\n    tsp_idiling: [],\n    tsp_cornering: [],\n    tsp_safe_score: [],\n  };\n  dashBoardData: any = {};\n  selectedOrgID: any;\n  boxVal = 1;\n  leftSide = false;\n  rightSide = false;\n  leftCount = 0;\n  leftWidth = 0;\n  rightWidth = 0;\n  exceptionRatio: any;\n  worstDriverdetail: any;\n  fuelChart: any = { licensePlate: [], mileage: [] };\n  polarObject: any = {\n    speed: 0,\n    idling: 0,\n    acceleration: 0,\n    breaking: 0,\n    cornering: 0,\n  };\n  exceptionObject = {\n    speed: \"Speeding\",\n    idling: \"Idiling\",\n    acceleration: \"Harsh Acceleration\",\n    cornering: \"Harsh Cornering\",\n    breaking: \"Harsh Braking\",\n  };\n  stackBar = [\n    { value: 0, class: \"ridOfmax1\", speed: 0, color: \"\" },\n    { value: 0, class: \"busyRoad1\", speed: 0, color: \"\" },\n    { value: 0, class: \"quietRoad1\", speed: 0, color: \"\" },\n    { value: 0, class: \"buildUp1\", speed: 0, color: \"\" },\n    { value: 0, class: \"ridOfHighSpeed1\", speed: 0, color: \"\" },\n  ];\n  colorBox: any = [\"#ed502e\", \"#604EFF\", \"#F0CE00\", \"#4dbfff\", \"#2A1E91\"];\n  showStackBar = [];\n  browsername:any;\n  filterCalledDashboard = new Subject();\n\n  constructor(\n    private route: Router,\n    private elementRef: ElementRef,\n    public service: MainService,\n    public dialog: MatDialog,\n    private localService: LocalService,\n    private translate: TranslateService\n  ) {\n    Chart.register(...registerables);\n    this.browsername=this.service.detectBrowserName();\n    // console.log(this.browsername);\n    \n  }\n\n  fleetScore;\n  idling;\n  speed;\n  safeAcc;\n  deAcc;\n  corner;\n  isLoadingshimmer = false;\n  customeRange = \"Custom\";\n  setDate = \"Set Date\";\n  cancelDate = \"Cancel\";\n  ngOnInit(): void {\n    this.filterCalledDashboard = new Subject();\n\n    this.localService.getFilter().subscribe((val)=>{\n      if(val && this.route.url == RouteConfig.dashboard.url){\n        this.filterCalledDashboard.next(true)\n      }\n    })\n\n\n    this.filterCalledDashboard.pipe(\n      debounceTime(500),\n    ).subscribe(\n      value => {\n        if(value){\n          this.selectedOrgID = this.localService.getItem(\"selectedOrgs\")\n          if (this.selectedOrgID) {\n            this.selectedOrgID = JSON.parse(this.selectedOrgID);\n          }\n          this.isTripHistoryLoading = true;\n          this.resetToLastState();\n          this.filterApply();\n        }\n      }\n    )\n\n\n    this.localService.getdashboardData().pipe(debounceTime(500)).subscribe((val)=>{\n      if(val && Object.keys(val).length && this.route.url == RouteConfig.dashboard.url){\n        this.selectedOrgID = this.localService.getItem(\"selectedOrgs\");\n        if (this.selectedOrgID) {\n          this.selectedOrgID = JSON.parse(this.selectedOrgID);\n        }\n        if('error' in val){\n          this.isTripHistoryLoading = true;\n          this.rightSide = false;\n          this.leftSide = true;\n          this.leftWidth = 100;\n          this.leftCount = 5;\n          this.dashBoardData.speed_score = 0;\n          this.dashBoardData.idling_score = 0;\n          this.dashBoardData.acceleration_score = 0;\n          this.dashBoardData.breaking_score = 0;\n          this.dashBoardData.cornering_score = 0;\n          this.isTripHistoryLoading = false;\n          this.getChartData();\n        }\n        else{\n          this.resetToLastState();\n          this.isTripHistoryLoading = true;\n          this.leftWidth = 0;\n          this.rightWidth = 0;\n          this.leftCount = 0;\n          this.leftSide = false;\n          this.rightSide = false;\n          this.dashBoardData = val;\n\n          this.calcWidth()\n          this.getChartData();\n        }\n        }\n    })\n\n    this.localService.getLang().subscribe((val) => {\n      if (this.chartData && this.chartData.date) {\n        setTimeout(() => {\n          this.lineChart(this.chartData.date);\n          this.lineChartScore(\n            this.dayNightScore.date,\n            this.dayNightScore.dayScore,\n            this.dayNightScore.nightScore,\n            \"Day Night\"\n          );\n        }, 200);\n      }\n    });\n\n    this.selectedOrgID = this.localService.getItem(\"selectedOrgs\");\n    if (this.selectedOrgID) {\n      this.selectedOrgID = JSON.parse(this.selectedOrgID);\n    }\n\n    if (this.selectedOrgID) {\n      this.resetToLastState();\n      this.updatePageData();\n    }\n\n    // this.localService.watchOrgData().subscribe((resp) => {\n    //   if (resp && this.route.url == RouteConfig.dashboard.url) {\n    //     // console.log('')\n    //     let orgId: any = this.localService.getItem(\"selectedOrgs\");\n    //     if (orgId) {\n    //       orgId = JSON.parse(orgId);\n    //     }\n    //     let isEqual = true;\n    //     if (\n    //       this.selectedOrgID &&\n    //       this.selectedOrgID.length &&\n    //       orgId &&\n    //       orgId.length\n    //     ) {\n    //       isEqual =\n    //         orgId.length === this.selectedOrgID.length &&\n    //         orgId.every((val) => this.selectedOrgID.includes(val));\n    //     } else {\n    //       isEqual = false;\n    //     }\n    //     if (!isEqual) {\n    //       this.selectedOrgID = [...orgId];\n    //       this.resetToLastState();\n    //       this.updatePageData();\n    //     }\n    //   }\n    // });\n  }\n  resetToLastState() {\n    let date: any = this.localService.getItem(\"dateRange\");\n    if (date) {\n      date = JSON.parse(date);\n      this.selected = {\n        startDate: moment(date.startDate),\n        endDate: moment(date.endDate),\n      };\n      this.selectedShow = this.selected;\n    } else {\n      this.selectedShow = {\n        startDate: moment()\n          .subtract(1, \"month\")\n          .startOf(\"month\")\n          .set(\"hours\", 0)\n          .set(\"minutes\", 0),\n        endDate: moment()\n          .subtract(1, \"month\")\n          .endOf(\"month\")\n          .set(\"hours\", 23)\n          .set(\"minutes\", 59),\n      };\n      this.selected = {\n        startDate: moment()\n          .subtract(1, \"month\")\n          .startOf(\"month\")\n          .set(\"hours\", 0)\n          .set(\"minutes\", 0),\n        endDate: moment()\n          .subtract(1, \"month\")\n          .endOf(\"month\")\n          .set(\"hours\", 23)\n          .set(\"minutes\", 59),\n      };\n    }\n  }\n\n  filterApply() {\n    this.localService.setItem(\"dateRange\", JSON.stringify(this.selectedShow));\n    this.selected = this.selectedShow;\n    this.updatePageData();\n  }\n\n  updatePageData() {\n    this.localService.setItem(\"dateRange\", JSON.stringify(this.selectedShow));\n    this.polardata();\n    this.getRoadTypeDistribution();\n    // this.getFuelListing();\n    this.getDayNightScore();\n    // this.getDriverList(this.RULE_ID.RulePostedSpeedingId);\n    // this.getDriverList(this.RULE_ID.RulePostedIdlingId);\n    // this.worstDriver();\n    this.getExceptionOnRule();\n    this.getVehicleAnalytics();\n  }\n  dayNightScore = { dayScore: [], nightScore: [], date: [] };\n  getDayNightScore() {\n    this.dayNightScore = { dayScore: [], nightScore: [], date: [] };\n    let querryParams = this.createQuerryparams();\n    this.service\n      .get(`dashboard/day-night-score?${querryParams}&is_day_trip=[true,false]`)\n      .pipe()\n      .subscribe(\n        (res: any) => {\n          res.data.forEach((element: any) => {\n            if (element.is_day_trip) {\n              this.dayNightScore.date.push(\n                moment.utc(element.start_date_time).format(\"DD/MM\")\n              );\n              if (!this.naValue.includes(element?.safe_score)) {\n                this.dayNightScore.dayScore.push(element?.safe_score);\n              } else {\n                this.dayNightScore.dayScore.push(null);\n              }\n            } else {\n              if (!this.naValue.includes(element?.safe_score)) {\n                this.dayNightScore.nightScore.push(element?.safe_score);\n              } else {\n                this.dayNightScore.nightScore.push(null);\n              }\n            }\n          });\n          this.dayNightScore.date.reverse();\n          this.dayNightScore.dayScore.reverse();\n          this.dayNightScore.nightScore.reverse();\n          this.lineChartScore(\n            this.dayNightScore.date,\n            this.dayNightScore.dayScore,\n            this.dayNightScore.nightScore,\n            \"Day Night\"\n          );\n        },\n        (err) => {}\n      );\n  }\n\n  speed_distribution: any = { label: [], data: [] };\n  breaking_distribution: any = { label: [], data: [] };\n  acceleration_distribution: any = { label: [], data: [] };\n  cornering_distribution: any = { label: [], data: [] };\n\n  getExceptionOnRule() {\n    this.speed_distribution = { label: [], data: [] };\n    this.breaking_distribution = { label: [], data: [] };\n    this.acceleration_distribution = { label: [], data: [] };\n    this.cornering_distribution = { label: [], data: [] };\n    let querryParams = this.createQuerryparams();\n    this.service\n      .get(`dashboard/event-type-distribution?${querryParams}`)\n      .pipe()\n      .subscribe(\n        (res: any) => {\n          if (res && res.data) {\n            let response = res.data;\n            response[\"speed_distribution\"].forEach((element) => {\n              if (element.contribution_value > 0) {\n                this.speed_distribution.label.push(element.road_factor_name);\n                this.speed_distribution.data.push(element.contribution_value);\n              }\n            });\n\n            response[\"breaking_distribution\"].forEach((element) => {\n              if (element.contribution_value > 0) {\n                this.breaking_distribution.label.push(element.road_factor_name);\n                this.breaking_distribution.data.push(\n                  element.contribution_value\n                );\n              }\n            });\n\n            response[\"cornering_distribution\"].forEach((element) => {\n              if (element.contribution_value > 0) {\n                this.cornering_distribution.label.push(\n                  element.road_factor_name\n                );\n                this.cornering_distribution.data.push(\n                  element.contribution_value\n                );\n              }\n            });\n\n            response[\"acceleration_distribution\"].forEach((element) => {\n              if (element.contribution_value > 0) {\n                this.acceleration_distribution.label.push(\n                  element.road_factor_name\n                );\n                this.acceleration_distribution.data.push(\n                  element.contribution_value\n                );\n              }\n            });\n          }\n        },\n        (err) => {\n          this.speed_distribution = { label: [], data: [] };\n          this.breaking_distribution = { label: [], data: [] };\n          this.acceleration_distribution = { label: [], data: [] };\n          this.cornering_distribution = { label: [], data: [] };\n        }\n      );\n  }\n\n  worstScore: any = [];\n  bestScore: any = [];\n  probablyCrashed: any = [];\n  mostTravelled: any = [];\n\n  getVehicleAnalytics() {\n    this.worstScore = [];\n    this.bestScore = [];\n    this.probablyCrashed = [];\n    this.mostTravelled = [];\n\n    let querryParams = this.createQuerryparams();\n    this.service\n      .get(`zego/vehicle/top-listing?${querryParams}`)\n      .pipe()\n      .subscribe(\n        (res: any) => {\n          if (res && res.data) {\n            this.bestScore = res.data.bestScore;\n            this.worstScore = res.data.worstScore;\n            this.probablyCrashed = res.data.probablyCrashed;\n            this.mostTravelled = res.data.mostTravelled;\n          }\n        },\n        (err) => {\n          this.worstScore = [];\n          this.bestScore = [];\n          this.probablyCrashed = [];\n          this.mostTravelled = [];\n        }\n      );\n  }\n\n  totalCount = 0;\n  getFuelListing() {\n    this.isFuelListLoading = true;\n    this.fuelChart = { licensePlate: [], mileage: [] };\n    let querryParams = this.createQuerryparams();\n    this.service\n      .get(`fuel-list?${querryParams}&listFor=ice&page=1&limit=1000`)\n      .pipe()\n      .subscribe(\n        (response) => {\n          this.isFuelListLoading = false;\n          if (response.data) {\n            this.totalCount = response.data.count;\n            if (this.totalCount) {\n              response.data.rows.sort(function (a, b) {\n                if (a.consumption100km > 200) a.consumption100km = 0;\n                if (b.consumption100km > 200) b.consumption100km = 0;\n\n                return b.consumption100km - a.consumption100km;\n              });\n\n              response.data.rows.forEach((element) => {\n                if (\n                  element.consumption100km &&\n                  element.consumption100km <= 200\n                ) {\n                  element.consumption100km = parseFloat(\n                    element.consumption100km\n                  ).toFixed(1);\n                } else {\n                  element.consumption100km = \"NA\";\n                }\n                this.fuelChart.licensePlate.push(element.license_plate);\n                this.fuelChart.mileage.push(\n                  element.consumption100km == \"NA\"\n                    ? 0\n                    : element.consumption100km\n                );\n              });\n              // this.dataSource = response.data.rows;\n            }\n            // this.createFuelChart();\n          } else {\n            this.fuelChart = { licensePlate: [], mileage: [] };\n            this.totalCount = 0;\n            // this.dataSource = [];\n          }\n        },\n        (error) => {\n          this.isFuelListLoading = false;\n          // this.dataSource = [];\n        }\n      );\n  }\n  myChart: any;\n  createFuelChart() {\n    const labels = this.fuelChart.licensePlate;\n    let background = Array(this.fuelChart.licensePlate.length).fill(\"#4DBFFF\");\n    let htmlRef = this.elementRef.nativeElement\n      .querySelector(`#fuelChart`)\n      .getContext(\"2d\");\n\n    // let htmlRef= document.getElementById('')\n    if (this.myChart) this.myChart.destroy();\n    this.myChart = new Chart(htmlRef, {\n      type: \"bar\",\n      data: {\n        labels: labels,\n        datasets: [\n          {\n            label: \"Mileage (ltr/100km)\",\n            data: this.fuelChart.mileage,\n            borderColor: background,\n            backgroundColor: background,\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            display: false,\n            position: \"top\",\n          },\n          tooltip: {\n            enabled: true,\n            backgroundColor: \"#ffffff\",\n            titleAlign: \"center\",\n            footerAlign: \"center\",\n            bodyAlign: \"center\",\n            titleColor: \"#1B194B\",\n            displayColors: false,\n            callbacks: {\n              labelTextColor: (context) => {\n                return \"#1B194B\";\n              },\n            },\n          },\n          title: {\n            display: false,\n            text: \"Mileage\",\n          },\n        },\n        scales: {\n          x: {\n            display: false,\n          },\n        },\n      },\n    });\n\n    var dataset = this.myChart.data.datasets[0];\n    for (var i = 0; i < dataset.data.length; i++) {\n      if (dataset.data[i] < 35) {\n        dataset.backgroundColor[i] = \"green\";\n      } else if (dataset.data[i] < 45) {\n        dataset.backgroundColor[i] = \"yellow\";\n      } else if (dataset.data[i] < 60) {\n        dataset.backgroundColor[i] = \"Orange\";\n      } else {\n        dataset.backgroundColor[i] = \"red\";\n      }\n    }\n    this.myChart.update();\n  }\n\n  roadTypeLabel = [];\n  roadTypeData = [];\n\n  getRoadTypeDistribution() {\n    this.roadTypeLabel = [];\n    this.roadTypeData = [];\n    let querryParams = this.createQuerryparams(\"Distribution\");\n    this.service\n      .get(`trips/road-type-distribution?${querryParams}`)\n      .pipe()\n      .subscribe(\n        (response) => {\n            let apiData =response;\n          if (apiData.data && apiData.data.length) {\n            for (let i = 0; i < apiData.data.length; i++) {\n              if(apiData.data[i].road_factor_name.split(' ').length -1 > 1){\n                // console.log((apiData.data[i].road_factor_name.split(' ')).join(''));\n                 let k= apiData.data[i].road_factor_name.split(' ');\n                 apiData.data[i].road_factor_name=k[0]+k[1]+k[2]+' kmph';\n              }\n              if (this.stackBar[i]) {\n                this.stackBar[i].value =\n                  apiData.data[i].contribution_value.toFixed(1);\n                this.stackBar[i].speed = apiData.data[i].road_factor_name;\n                this.stackBar[i].color = this.colorBox[i];\n              }\n            }\n            this.stackBar.forEach((x) => {\n              if (x.value > 0) {\n                this.roadTypeLabel.push(x.speed);\n                this.roadTypeData.push(x.value);\n              }\n            });\n          } else {\n            this.noRoadTypeData = true;\n          }\n        },\n        (error) => {\n          this.roadTypeLabel = [];\n          this.roadTypeData = [];\n          this.noRoadTypeData = true;\n        }\n      );\n  }\n\n  createQuerryparams(type?) {\n    let querryParams = `organisation=${JSON.stringify(this.selectedOrgID)}`;\n    querryParams =\n      querryParams +\n      `&from_date=${moment(this.selected.startDate).format(\"YYYY-MM-DD\")}`;\n    querryParams =\n      querryParams +\n      `&to_date=${moment(this.selected.endDate).format(\"YYYY-MM-DD\")}`;\n    let val = this.service.checkCustomDate(\n      moment(this.selected.startDate).format(\"YYYY-MM-DD\"),\n      moment(this.selected.endDate).format(\"YYYY-MM-DD\")\n    );\n\n    if (type) {\n      querryParams = querryParams + `&custom_filter=true&filter_value=''`;\n    } else {\n      if (val == undefined) {\n        querryParams = querryParams + `&custom_filter=true&filter_value=''`;\n      } else {\n        querryParams =\n          querryParams + `&custom_filter=false&filter_value=${val}`;\n      }\n    }\n    return querryParams;\n  }\n\n  attentionValue: number = 5;\n  calcWidth() {\n    if (this.dashBoardData.speed_score < this.attentionValue) {\n      this.leftCount += 1;\n      this.leftWidth += 20;\n    } else {\n      this.rightWidth += 20;\n    }\n    if (this.dashBoardData.idling_score < this.attentionValue) {\n      this.leftCount += 1;\n      this.leftWidth += 20;\n    } else {\n      this.rightWidth += 20;\n    }\n    if (this.dashBoardData.acceleration_score < this.attentionValue) {\n      this.leftCount += 1;\n      this.leftWidth += 20;\n    } else {\n      this.rightWidth += 20;\n    }\n    if (this.dashBoardData.breaking_score < this.attentionValue) {\n      this.leftCount += 1;\n      this.leftWidth += 20;\n    } else {\n      this.rightWidth += 20;\n    }\n    if (this.dashBoardData.cornering_score < this.attentionValue) {\n      this.leftCount += 1;\n      this.leftWidth += 20;\n    } else {\n      this.rightWidth += 20;\n    }\n    if (this.leftCount != 0 && this.leftCount != 5) {\n      this.rightSide = true;\n      this.leftSide = true;\n    }\n    if (this.leftCount == 5) {\n      this.rightSide = false;\n      this.leftSide = true;\n    }\n    if (this.leftCount == 0) {\n      this.rightSide = true;\n      this.leftSide = false;\n    }\n    this.isTripHistoryLoading = false;\n  }\n  toggleChange(value) {\n    this.tableView = value;\n  }\n\n  // routeToDriver() {\n  //   let id = \"\";\n  //   if (this.title == \"Speed score\") {\n  //     id = this.RULE_ID.RulePostedSpeedingId;\n  //   } else if (this.title == \"Idiling score\") {\n  //     id = this.RULE_ID.RulePostedIdlingId;\n  //   } else if (this.title == \"Braking score\") {\n  //     id = this.RULE_ID.RulePostedBreakingId;\n  //   } else if (this.title == \"Cornering score\") {\n  //     id = this.RULE_ID.RulePostedCorneringId;\n  //   } else if (this.title == \"Acceleration score\") {\n  //     id = this.RULE_ID.RulePostedAccelerationId;\n  //   } else {\n  //     id = this.RULE_ID.RulePostedSpeedingId;\n  //   }\n  //   this.route.navigate([RouteConfig.driver.url], {\n  //     queryParams: { rule: id },\n  //   });\n  // }\n  //linechart for speeding\n\n  linemyChart: any;\n  lineChart(label) {\n    if (this.linemyChart) {\n      this.linemyChart.destroy();\n    }\n    var labels = label;\n\n    this.translate.get(\"fleetscore\").subscribe((text: string) => {\n      this.fleetScore = text;\n    });\n    this.translate.get(\"speeding\").subscribe((text: string) => {\n      this.speed = text;\n    });\n    this.translate.get(\"idiling\").subscribe((text: string) => {\n      this.idling = text;\n    });\n    this.translate.get(\"hardAcceleration\").subscribe((text: string) => {\n      this.safeAcc = text;\n    });\n    this.translate.get(\"hardBraking\").subscribe((text: string) => {\n      this.deAcc = text;\n    });\n    this.translate.get(\"harshCorner\").subscribe((text: string) => {\n      this.corner = text;\n    });\n    let htmlRef = this.elementRef.nativeElement.querySelector(`#lineChart`);\n    const gradient = this.elementRef.nativeElement\n      .querySelector(`#lineChart`)\n      .getContext(\"2d\")\n      .createLinearGradient(0, 0, 0, 400);\n    gradient.addColorStop(0, \"rgba(255, 112, 112, 0.05)\");\n    gradient.addColorStop(1, \"rgba(255, 112, 112, 0.11)\");\n    const dataSet: any = [\n      {\n        data: this.chartData.safe_score,\n        borderColor: \"#371987\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 2.66,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: this.fleetScore,\n        borderDash: [10, 5],\n      },\n      {\n        data: this.chartData.speed,\n        borderColor: \"#FF9950\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 2.66,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: this.speed,\n      },\n      {\n        data: this.chartData.idiling,\n        borderColor: \"#00CBA0\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 2.66,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: this.idling,\n      },\n      {\n        data: this.chartData.acc,\n        borderColor: \"#4DBFFF\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 2.66,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: this.safeAcc,\n      },\n      {\n        data: this.chartData.braking,\n        borderColor: \"#FF7070\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 3.84,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: this.deAcc,\n      },\n      {\n        data: this.chartData.cornering,\n        borderColor: \"#FFEA6C\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 3.84,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: this.corner,\n      },\n    ];\n\n    let data = [];\n    if (this.safeScoreCheckbox) {\n      data.push(dataSet[0]);\n    }\n    if (this.speedingCheckbox) {\n      data.push(dataSet[1]);\n    }\n    if (this.idilingCheckbox) {\n      data.push(dataSet[2]);\n    }\n    if (this.accCheckbox) {\n      data.push(dataSet[3]);\n    }\n    if (this.brakingCheckbox) {\n      data.push(dataSet[4]);\n    }\n    if (this.corneringCheckbox) {\n      data.push(dataSet[5]);\n    }\n\n    this.linemyChart = new Chart(htmlRef, {\n      type: \"line\",\n      data: {\n        labels: labels,\n        datasets: data,\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        elements: {\n          point: {\n            radius: 0,\n          },\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            enabled: true,\n            backgroundColor: \"#ffffff\",\n            titleAlign: \"center\",\n            footerAlign: \"center\",\n            bodyAlign: \"center\",\n            titleColor: \"#1B194B\",\n            displayColors: false,\n            callbacks: {\n              labelTextColor: (context) => {\n                return \"#1B194B\";\n              },\n            },\n          },\n        },\n        interaction: {\n          intersect: false,\n        },\n        scales: {\n          x: {\n            display: true,\n          },\n          y: {\n            display: true,\n            // min: -10,\n            max: AppConfig.gaugeMax,\n            ticks: {\n              precision: 0,\n              // stepSize: 10,\n              // callback: (value, index, values) => {\n              //   return (index == (values.length-1)) ?  undefined :  value\n              // }\n            },\n          },\n        },\n      },\n    });\n  }\n\n  // line chart for day vs night\n  linemyChartScore: any;\n  lineChartScore(label, point, pointsSecond, name) {\n    if (this.linemyChartScore) {\n      this.linemyChartScore.destroy();\n    }\n    var labels = label;\n\n    const datapoints = point;\n    let dayDrive;\n    this.translate.get(\"daydriving\").subscribe((text: string) => {\n      dayDrive = text;\n    });\n    let nightDrive;\n    this.translate.get(\"nightdriving\").subscribe((text: string) => {\n      nightDrive = text;\n    });\n\n    let htmlRef =\n      this.elementRef.nativeElement.querySelector(`#lineChartScore`);\n    const gradient = this.elementRef.nativeElement\n      .querySelector(`#lineChartScore`)\n      .getContext(\"2d\")\n      .createLinearGradient(0, 0, 0, 400);\n    gradient.addColorStop(0, \"rgba(255, 112, 112, 0.05)\");\n    gradient.addColorStop(1, \"rgba(255, 112, 112, 0.11)\");\n    const dataSet: any = [\n      {\n        data: pointsSecond,\n        borderColor: \"#371A87\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 3,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: nightDrive,\n      },\n      {\n        data: point,\n        borderColor: \"#45CBFC\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 3,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: dayDrive,\n      },\n    ];\n    if (!this.safeScoreCheckboxsecond) {\n      dataSet.splice(1, 1);\n    }\n    if (!this.otherCheckboxsecond) {\n      dataSet.splice(0, 1);\n    }\n\n    // console.log(dataSet);\n\n    this.linemyChartScore = new Chart(htmlRef, {\n      type: \"line\",\n      data: {\n        labels: labels,\n        datasets: dataSet,\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        elements: {\n          point: {\n            radius: 0,\n          },\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            enabled: true,\n            backgroundColor: \"#ffffff\",\n            titleAlign: \"center\",\n            footerAlign: \"center\",\n            bodyAlign: \"center\",\n            titleColor: \"#1B194B\",\n            displayColors: false,\n            callbacks: {\n              labelTextColor: (context) => {\n                return \"#1B194B\";\n              },\n            },\n          },\n        },\n        interaction: {\n          intersect: false,\n        },\n        scales: {\n          x: {\n            display: true,\n          },\n          y: {\n            display: true,\n            // min: -10,\n            max: AppConfig.gaugeMax,\n            ticks: {\n              precision: 0,\n              // stepSize: 10,\n              // callback: (value, index, values) => {\n              //   return (index == (values.length-1)) ?  undefined :  value\n              // }\n            },\n          },\n        },\n      },\n    });\n  }\n\n  //polar graph\n  // polarmyChart: any;\n  // polarGraph(dataPoints, label) {\n  //   if (this.polarmyChart) {\n  //     this.polarmyChart.destroy();\n  //   }\n  //   const data = {\n  //     labels: label,\n  //     datasets: [\n  //       {\n  //         label: \"My First Dataset\",\n  //         data: dataPoints,\n  //         borderColor: [\n  //           \"\trgb(0, 203, 160)\",\n  //           \"rgb(255, 234, 108)\",\n  //           \"rgb(250, 20, 100)\",\n  //           \"\trgb(255, 153, 80)\",\n  //           \"\trgb(255, 112, 112)\",\n  //           \"rgb(255, 205, 86)\",\n  //         ],\n  //         backgroundColor: \"white\",\n  //         hoverOffset: 30,\n  //         // Option:{\n  //         //   responsive:false,\n  //         //   layout:{\n  //         //     padding:{\n  //         //       left:100,\n  //         //     }\n  //         //   }\n  //         // }\n  //       },\n  //     ],\n  //   };\n\n  //   let htmlRef = this.elementRef.nativeElement.querySelector(`#ploarChart`);\n  //   this.polarmyChart = new Chart(htmlRef, {\n  //     type: \"doughnut\",\n  //     data: data,\n  //     options: {\n  //       responsive: true,\n  //       maintainAspectRatio: false,\n  //       layout: {\n  //         padding: {\n  //           bottom: 15,\n  //           top: 15,\n  //         },\n  //       },\n  //       plugins: {\n  //         legend: {\n  //           display: true,\n  //           position: \"top\",\n  //           title: {\n  //             padding: 20,\n  //           },\n  //           // labels: {\n  //           //     fontColor: '#333',\n  //           // }\n  //         },\n  //         datalabels: {\n  //           color: \"#474F5A\",\n  //           labels: {\n  //             title: {\n  //               font: {\n  //                 weight: \"bold\",\n  //               },\n  //             },\n  //           },\n  //         },\n  //         tooltip: {\n  //           enabled: true,\n  //           backgroundColor: \"#ffffff\",\n  //           callbacks: {\n  //             labelTextColor: (context) => {\n  //               return \"#1B194B\";\n  //             },\n  //           },\n  //         },\n  //       },\n  //     },\n  //     plugins: [ChartDataLabels],\n  //   });\n  // }\n\n  //line graph\n  barChartmyChart: any;\n  barChart() {\n    // console.log(this.chartData);\n\n    const dataSum: any = {\n      speed: 0,\n      acc: 0,\n      braking: 0,\n      idiling: 0,\n      cornering: 0,\n      safe_score: 0,\n      tsp_speed: 0,\n      tsp_acc: 0,\n      tsp_braking: 0,\n      tsp_idiling: 0,\n      tsp_cornering: 0,\n      tsp_safe_score: 0,\n    };\n    this.chartData.date.forEach((element, index) => {\n      dataSum.speed = dataSum.speed + Number(this.chartData.speed[index]);\n      dataSum.acc = dataSum.acc + Number(this.chartData.acc[index]);\n      dataSum.braking = dataSum.braking + Number(this.chartData.braking[index]);\n      dataSum.idiling = dataSum.idiling + Number(this.chartData.idiling[index]);\n      dataSum.cornering =\n        dataSum.cornering + Number(this.chartData.cornering[index]);\n      dataSum.safe_score =\n        dataSum.safe_score + Number(this.chartData.safe_score[index]);\n\n      dataSum.tsp_speed =\n        dataSum.tsp_speed + Number(this.chartData.tsp_speed[index]);\n      dataSum.tsp_acc = dataSum.tsp_acc + Number(this.chartData.tsp_acc[index]);\n      dataSum.tsp_braking =\n        dataSum.tsp_braking + Number(this.chartData.tsp_braking[index]);\n      dataSum.tsp_idiling =\n        dataSum.tsp_idiling + Number(this.chartData.tsp_idiling[index]);\n      dataSum.tsp_cornering =\n        dataSum.tsp_cornering + Number(this.chartData.tsp_cornering[index]);\n      dataSum.tsp_safe_score =\n        dataSum.tsp_safe_score + Number(this.chartData.tsp_safe_score[index]);\n    });\n    dataSum.speed = this.formatToFixed(\n      dataSum.speed / this.chartData.date.length,\n      1\n    );\n    dataSum.acc = this.formatToFixed(\n      dataSum.acc / this.chartData.date.length,\n      1\n    );\n    dataSum.braking = this.formatToFixed(\n      dataSum.braking / this.chartData.date.length,\n      1\n    );\n    dataSum.idiling = this.formatToFixed(\n      dataSum.idiling / this.chartData.date.length,\n      1\n    );\n    dataSum.cornering = this.formatToFixed(\n      dataSum.cornering / this.chartData.date.length,\n      1\n    );\n    dataSum.safe_score = this.formatToFixed(\n      dataSum.safe_score / this.chartData.date.length,\n      1\n    );\n\n    dataSum.tsp_speed = this.formatToFixed(\n      dataSum.tsp_speed / this.chartData.date.length,\n      1\n    );\n    dataSum.tsp_acc = this.formatToFixed(\n      dataSum.tsp_acc / this.chartData.date.length,\n      1\n    );\n    dataSum.tsp_braking = this.formatToFixed(\n      dataSum.tsp_braking / this.chartData.date.length,\n      1\n    );\n    dataSum.tsp_idiling = this.formatToFixed(\n      dataSum.tsp_idiling / this.chartData.date.length,\n      1\n    );\n    dataSum.tsp_cornering = this.formatToFixed(\n      dataSum.tsp_cornering / this.chartData.date.length,\n      1\n    );\n    dataSum.tsp_safe_score = this.formatToFixed(\n      dataSum.tsp_safe_score / this.chartData.date.length,\n      1\n    );\n    // console.log(dataSum);\n\n    if (this.barChartmyChart) {\n      this.barChartmyChart.destroy();\n    }\n    var labels = [\n      \"Safe score\",\n      \"Speeding\",\n      \"Idiling\",\n      \"Acceleration\",\n      \"Braking\",\n      \"Cornering\",\n    ];\n    // for (let i = 0; i < 6; ++i) {\n    //   labels.push(i.toString());\n    // }\n    const datapoints = [\n      dataSum.safe_score,\n      dataSum.speed,\n      dataSum.idiling,\n      dataSum.acc,\n      dataSum.braking,\n      dataSum.cornering,\n    ];\n    const datapoints1 = [\n      dataSum.tsp_safe_score,\n      dataSum.tsp_speed,\n      dataSum.tsp_idiling,\n      dataSum.tsp_acc,\n      dataSum.tsp_braking,\n      dataSum.tsp_cornering,\n    ];\n\n    let htmlRef = this.elementRef.nativeElement.querySelector(`#barChart`);\n    // const gradient = this.elementRef.nativeElement.querySelector(`#barChart`).getContext('2d').createLinearGradient(0, 0, 0, 600);\n    // gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n    // gradient.addColorStop(0, 'rgba(0, 203, 160, 0.1)');\n    this.barChartmyChart = new Chart(htmlRef, {\n      type: \"bar\",\n      data: {\n        labels: labels,\n        datasets: [\n          {\n            label: \"Your score\",\n            data: datapoints,\n            borderColor: \"#0064FF\",\n            // fill: false,\n            // cubicInterpolationMode: 'monotone',\n            // tension: 0.4,\n            // pointBackgroundColor: \"#FA1464\",\n            backgroundColor: \"#0064FF\",\n          },\n          {\n            label: \"Fleets score\",\n            data: datapoints1,\n            borderColor: \"#0064FF\",\n            // fill: false,\n            // cubicInterpolationMode: 'monotone',\n            // tension: 0.4,\n            // pointBackgroundColor: \"#FA1464\",\n            backgroundColor: \"#4DBFFF\",\n          },\n\n          // backgroundColor: [\n          //   'rgba(255, 99, 132, 0.2)',\n          //   'rgba(255, 159, 64, 0.2)',\n          //   'rgba(255, 205, 86, 0.2)',\n          //   'rgba(75, 192, 192, 0.2)',\n          //   'rgba(54, 162, 235, 0.2)',\n          //   'rgba(153, 102, 255, 0.2)',\n          //   'rgba(201, 203, 207, 0.2)'\n          // ],\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        elements: {\n          point: {\n            radius: 0,\n          },\n        },\n        plugins: {\n          legend: {\n            display: true,\n            position: \"bottom\",\n          },\n          tooltip: {\n            enabled: true,\n            backgroundColor: \"#ffffff\",\n            titleAlign: \"center\",\n            footerAlign: \"center\",\n            bodyAlign: \"center\",\n            titleColor: \"#1B194B\",\n            callbacks: {\n              labelTextColor: (context) => {\n                return \"#1B194B\";\n              },\n            },\n          },\n          // title: {\n          //   display: true,\n          // },\n        },\n        interaction: {\n          intersect: false,\n        },\n        scales: {\n          x: {\n            display: true,\n          },\n          y: {\n            display: true,\n            suggestedMin: 0,\n            suggestedMax: 10,\n          },\n        },\n      },\n    });\n  }\n\n  //speedingChart\n  changeBoxValue(num) {\n    this.boxVal = num;\n    // if (num == 1) {\n    //   this.title = \"Speed score\";\n    //   this.lineChart(this.chartData.date, this.chartData.speed, this.title);\n    //   // this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedSpeedingId)\n    //   // this.worstDriver(this.RULE_ID.RulePostedSpeedingId)\n    // } else if (num == 2) {\n    //   this.title = \"Acceleration score\";\n    //   this.lineChart(this.chartData.date, this.chartData.acc, this.title);\n    //   // this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedAccelerationId)\n    //   // this.worstDriver(this.RULE_ID.RulePostedAccelerationId)\n    // } else if (num == 3) {\n    //   this.title = \"Braking score\";\n    //   this.lineChart(this.chartData.date, this.chartData.braking, this.title);\n    //   // this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedBreakingId)\n    //   // this.worstDriver(this.RULE_ID.RulePostedBreakingId)\n    // } else if (num == 4) {\n    //   this.title = \"Cornering score\";\n    //   this.lineChart(this.chartData.date, this.chartData.cornering, this.title);\n    //   // this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedCorneringId)\n    //   // this.worstDriver(this.RULE_ID.RulePostedCorneringId)\n    // } else if (num == 6) {\n    //   this.title = \"Safe Score\";\n    //   this.lineChart(\n    //     this.chartData.date,\n    //     this.chartData.safe_score,\n    //     this.title\n    //   );\n    // } else {\n    //   this.title = \"Idiling score\";\n    //   this.lineChart(this.chartData.date, this.chartData.idiling, this.title);\n    //   // this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedIdlingId)\n    //   // this.worstDriver(this.RULE_ID.RulePostedIdlingId);\n    // }\n  }\n  changecheckboxValue(num) {\n    switch (num) {\n      case 1:\n        this.safeScoreCheckbox = !this.safeScoreCheckbox;\n        break;\n      case 2:\n        this.speedingCheckbox = !this.speedingCheckbox;\n        break;\n      case 3:\n        this.idilingCheckbox = !this.idilingCheckbox;\n        break;\n      case 4:\n        this.accCheckbox = !this.accCheckbox;\n        break;\n      case 5:\n        this.brakingCheckbox = !this.brakingCheckbox;\n        break;\n      case 6:\n        this.corneringCheckbox = !this.corneringCheckbox;\n        break;\n    }\n    this.lineChart(this.chartData.date);\n    // // console.log(this.title);\n\n    // if (this.title == \"Speed score\") {\n    //   this.lineChart(this.chartData.date, this.chartData.speed, this.title);\n    // } else if (this.title == \"Acceleration score\") {\n    //   this.lineChart(this.chartData.date, this.chartData.acc, this.title);\n    // } else if (this.title == \"Braking score\") {\n    //   this.lineChart(this.chartData.date, this.chartData.braking, this.title);\n    // } else if (this.title == \"Cornering score\") {\n    //   this.lineChart(this.chartData.date, this.chartData.cornering, this.title);\n    // } else {\n    //   this.lineChart(this.chartData.date, this.chartData.idiling, this.title);\n    // }\n  }\n  changecheckboxValuesecond(num) {\n    // if (num == 1) {\n    //   this.safeScoreCheckboxsecond = !this.safeScoreCheckboxsecond;\n    // } else {\n    //   this.otherCheckboxsecond = !this.otherCheckboxsecond;\n    // }\n    // // console.log(this.title);\n    // this.lineChartScore(this.dayNightScore.date,this.dayNightScore.dayScore,this.dayNightScore.nightScore,'Day Night')\n    // if (this.title == 'Speed score') {\n    //   this.lineChart(this.chartData.date, this.chartData.speed, this.title)\n    // }\n    // else if (this.title == 'Acceleration score') {\n    //   this.lineChart(this.chartData.date, this.chartData.acc, this.title)\n    // }\n    // else if (this.title == 'Braking score') {\n    //   this.lineChart(this.chartData.date, this.chartData.braking, this.title)\n    // }\n    // else if (this.title == 'Cornering score') {\n    //   this.lineChart(this.chartData.date, this.chartData.cornering, this.title)\n    // }\n    // else {\n    //   this.lineChart(this.chartData.date, this.chartData.idiling, this.title)\n    // }\n  }\n  getChartData() {\n    let querryParams = this.createQuerryparams();\n    this.chartData = {\n      date: [],\n      speed: [],\n      acc: [],\n      braking: [],\n      idiling: [],\n      cornering: [],\n      safe_score: [],\n      tsp_speed: [],\n      tsp_acc: [],\n      tsp_braking: [],\n      tsp_idiling: [],\n      tsp_cornering: [],\n      tsp_safe_score: [],\n    };\n    this.service\n      .get(`driving-analytics-graph?${querryParams}&score_type=safe_score`)\n      .pipe()\n      .subscribe(\n        (response) => {\n          if (response.data && response.data.length) {\n            let lastDate;\n            for (let i = 0; i < response.data.length; i++) {\n              if (i == 0) {\n                lastDate = moment.utc(response.data[i].date);\n                this.pushChartData(response.data[i]);\n              } else {\n                if (\n                  moment.utc(response.data[i].date).diff(lastDate, \"days\") == 1\n                ) {\n                  this.pushChartData(response.data[i]);\n                  lastDate = moment.utc(response.data[i].date);\n                } else {\n                  let days = moment\n                    .utc(response.data[i].date)\n                    .diff(lastDate, \"days\");\n                  let j = 1;\n                  while (j < days) {\n                    this.chartData.date.push(\n                      moment(lastDate).add(j, \"days\").format(\"DD/MM\")\n                    );\n                    this.chartData.speed.push(0);\n                    this.chartData.acc.push(0);\n                    this.chartData.braking.push(0);\n                    this.chartData.idiling.push(0);\n                    this.chartData.cornering.push(0);\n                    this.chartData.safe_score.push(0);\n                    this.chartData.tsp_speed.push(0);\n                    this.chartData.tsp_acc.push(0);\n                    this.chartData.tsp_braking.push(0);\n                    this.chartData.tsp_idiling.push(0);\n                    this.chartData.tsp_cornering.push(0);\n                    this.chartData.tsp_safe_score.push(0);\n                    j = j + 1;\n                  }\n                  this.pushChartData(response.data[i]);\n                  lastDate = moment.utc(response.data[i].date);\n                }\n              }\n            }\n          }\n          // console.log(this.chartData);\n          this.miniChart(\n            \"speedingChart\",\n            this.dashBoardData.speed_score >= this.attentionValue\n              ? \"#00CBA0\"\n              : \"#FF7070\",\n            this.chartData.date,\n            this.chartData.speed\n          );\n          this.miniChart(\n            \"idilingChart\",\n            this.dashBoardData.idling_score >= this.attentionValue\n              ? \"#00CBA0\"\n              : \"#FF7070\",\n            this.chartData.date,\n            this.chartData.idiling\n          );\n          this.miniChart(\n            \"accelerationChart\",\n            this.dashBoardData.acceleration_score >= this.attentionValue\n              ? \"#00CBA0\"\n              : \"#FF7070\",\n            this.chartData.date,\n            this.chartData.acc\n          );\n          this.miniChart(\n            \"brakingChart\",\n            this.dashBoardData.breaking_score >= this.attentionValue\n              ? \"#00CBA0\"\n              : \"#FF7070\",\n            this.chartData.date,\n            this.chartData.braking\n          );\n          this.miniChart(\n            \"corneringChart\",\n            this.dashBoardData.cornering_score >= this.attentionValue\n              ? \"#00CBA0\"\n              : \"#FF7070\",\n            this.chartData.date,\n            this.chartData.cornering\n          );\n          this.boxVal = 1;\n          this.title = \"Speed score\";\n          // console.log(this.chartData);\n\n          // this.getExceptionCategoryWiseData(this.RULE_ID.RulePostedSpeedingId)\n          this.lineChart(this.chartData.date);\n          // this.barChart();\n        },\n        (error) => {}\n      );\n  }\n\n  naValue = [\"1001.0\", 1001, \"1001.0\"];\n\n  pushChartData(element) {\n    this.chartData.date.push(moment.utc(element.date).format(\"DD/MM\"));\n\n    if (!this.naValue.includes(element.speed_score)) {\n      this.chartData.speed.push(this.formatToFixed(element.speed_score, 1));\n    } else {\n      this.chartData.speed.push(null);\n    }\n\n    if (!this.naValue.includes(element.acceleration_score)) {\n      this.chartData.acc.push(\n        this.formatToFixed(element.acceleration_score, 1)\n      );\n    } else {\n      this.chartData.acc.push(null);\n    }\n\n    if (!this.naValue.includes(element.breaking_score)) {\n      this.chartData.braking.push(\n        this.formatToFixed(element.breaking_score, 1)\n      );\n    } else {\n      this.chartData.braking.push(null);\n    }\n\n    if (!this.naValue.includes(element.idling_score)) {\n      this.chartData.idiling.push(this.formatToFixed(element.idling_score, 1));\n    } else {\n      this.chartData.idiling.push(null);\n    }\n\n    if (!this.naValue.includes(element.cornering_score)) {\n      this.chartData.cornering.push(\n        this.formatToFixed(element.cornering_score, 1)\n      );\n    } else {\n      this.chartData.cornering.push(null);\n    }\n\n    if (!this.naValue.includes(element.safe_score)) {\n      this.chartData.safe_score.push(this.formatToFixed(element.safe_score, 1));\n    } else {\n      this.chartData.safe_score.push(null);\n    }\n\n    if (!this.naValue.includes(element.tsp_speed_score)) {\n      this.chartData.tsp_speed.push(\n        this.formatToFixed(element.tsp_speed_score, 1)\n      );\n    } else {\n      this.chartData.tsp_speed.push(null);\n    }\n\n    if (!this.naValue.includes(element.tsp_acceleration_score)) {\n      this.chartData.tsp_acc.push(\n        this.formatToFixed(element.tsp_acceleration_score, 1)\n      );\n    } else {\n      this.chartData.tsp_acc.push(null);\n    }\n\n    if (!this.naValue.includes(element.tsp_breaking_score)) {\n      this.chartData.tsp_braking.push(\n        this.formatToFixed(element.tsp_breaking_score, 1)\n      );\n    } else {\n      this.chartData.tsp_braking.push(null);\n    }\n\n    if (!this.naValue.includes(element.tsp_idling_score)) {\n      this.chartData.tsp_idiling.push(\n        this.formatToFixed(element.tsp_idling_score, 1)\n      );\n    } else {\n      this.chartData.tsp_idiling.push(null);\n    }\n\n    if (!this.naValue.includes(element.tsp_cornering_score)) {\n      this.chartData.tsp_cornering.push(\n        this.formatToFixed(element.tsp_cornering_score, 1)\n      );\n    } else {\n      this.chartData.tsp_cornering.push(null);\n    }\n\n    if (!this.naValue.includes(element.tsp_safe_score)) {\n      this.chartData.tsp_safe_score.push(\n        this.formatToFixed(element.tsp_safe_score, 1)\n      );\n    } else {\n      this.chartData.tsp_safe_score.push(null);\n    }\n  }\n\n  formatToFixed(val, precision) {\n    if (val == null) {\n      return null;\n    }\n    if (typeof val == \"string\") {\n      val = parseFloat(val);\n    }\n    if (val) {\n      return val.toFixed(precision);\n    }\n    return 0;\n  }\n  openChartPopup() {\n    let chart: any = {\n      speed: this.chartData.safe_score,\n    };\n    chart.chartdate = this.chartData.date;\n    chart.name = this.title;\n    chart.safeScore = true;\n    chart.chartData = this.chartData;\n\n    const dialogRef = this.dialog.open(DialogContentdashboardDialog, {\n      disableClose: true,\n      panelClass: \"custom-dialog-container\",\n      height: \"auto\",\n      width: \"80%\",\n      data: chart,\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      // console.log(`Dialog result: ${result}`);\n    });\n  }\n  openChartPopupSecondChart() {\n    let chart: any = {\n      speed: this.dayNightScore.dayScore,\n    };\n    chart.chartdate = this.dayNightScore.date;\n    chart.name = \"Day vs Night Driving Score\";\n    chart.safeScore = false;\n    chart.chartdata = this.dayNightScore.nightScore;\n    const dialogRef = this.dialog.open(DialogContentdashboardDialog, {\n      disableClose: true,\n      panelClass: \"custom-dialog-container\",\n      height: \"auto\",\n      width: \"80%\",\n      data: chart,\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      // console.log(`Dialog result: ${result}`);\n    });\n  }\n\n  exceptionData: any = [];\n  exceptionLabel: any = [];\n  totalException: number = 0;\n  polardata() {\n    this.exceptionData = [];\n    this.exceptionLabel = [];\n    let querryParams = this.createQuerryparams();\n    this.service\n      .get(`dashboard/exception-ratio?${querryParams}`)\n      .pipe()\n      .subscribe(\n        (response) => {\n          if (response.data) {\n            this.exceptionRatio = response.data;\n            let total = this.exceptionRatio.reduce(\n              (previousValue, currentValue) =>\n                previousValue + Number(currentValue.score_type_count),\n              0\n            );\n            this.totalException = total;\n            for (let i = 0; i < this.exceptionRatio.length; i++) {\n              this.polarObject[this.exceptionRatio[i].score_type] = (\n                (this.exceptionRatio[i].score_type_count / total) *\n                100\n              ).toFixed(1);\n            }\n\n            for (let keys in this.polarObject) {\n              if (this.polarObject[keys] && this.polarObject[keys] !== \"0.0\") {\n                this.exceptionData.push(this.polarObject[keys]);\n                this.exceptionLabel.push(this.exceptionObject[keys]);\n              }\n            }\n          }\n          // this.polarGraph(data, label);\n        },\n        (error) => {\n          this.exceptionData = [];\n          this.exceptionLabel = [];\n          this.totalException = 0;\n        }\n      );\n  }\n  miniChartObj: any = {};\n  miniChart(id?, color?, label?, dataPoint?) {\n    var labels = label;\n    var datapoints = dataPoint;\n    let ids = \"#\" + id;\n    let htmlRef = this.elementRef.nativeElement.querySelector(ids);\n    var gradient = htmlRef.getContext(\"2d\").createLinearGradient(0, 0, 0, 600);\n\n    if (color == \"#00CBA0\") {\n      gradient.addColorStop(1, \"rgba(255, 255, 255, 0)\");\n      gradient.addColorStop(0, \"rgba(0, 203, 160, 0.1)\");\n    } else {\n      gradient.addColorStop(1, \"rgba(255, 255, 255, 0.9)\");\n      gradient.addColorStop(0, \"rgba(255, 112, 112, 0.25)\");\n    }\n    if (this.miniChartObj[id]) this.miniChartObj[id].destroy();\n    this.miniChartObj[id] = new Chart(htmlRef, {\n      type: \"line\",\n      data: {\n        labels: labels,\n        datasets: [\n          {\n            data: datapoints,\n            borderColor: color,\n            fill: true,\n            cubicInterpolationMode: \"monotone\",\n            tension: 0.4,\n            pointBackgroundColor: \"#FA1464\",\n            backgroundColor: \"#d6d1e7\",\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        elements: {\n          point: {\n            radius: 0,\n          },\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            enabled: false,\n            backgroundColor: \"#001E50\",\n            titleAlign: \"center\",\n            footerAlign: \"center\",\n            bodyAlign: \"center\",\n            callbacks: {\n              labelTextColor: (context) => {\n                return \"#fff\";\n              },\n            },\n          },\n          title: {\n            display: true,\n          },\n        },\n        interaction: {\n          intersect: false,\n        },\n        scales: {\n          x: {\n            display: false,\n            title: {\n              display: true,\n            },\n          },\n          y: {\n            display: false,\n            title: {\n              display: true,\n            },\n          },\n        },\n      },\n    });\n  }\n\n  speedingDriver: any = [];\n  idlingingDriver: any = [];\n\n  getDriverList(ruleId) {\n    if (ruleId == this.RULE_ID.RulePostedSpeedingId) {\n      this.speedingDriver = [];\n    } else if (ruleId == this.RULE_ID.RulePostedIdlingId) {\n      this.idlingingDriver = [];\n    }\n    let querryParams = this.createQuerryparams();\n    this.service\n      .get(`drivers?${querryParams}&rule_id=${ruleId}&page=1&limit=5`)\n      .pipe()\n      .subscribe(\n        (response) => {\n          if (response.data) {\n            if (ruleId == this.RULE_ID.RulePostedSpeedingId) {\n              this.speedingDriver = response.data.rows;\n            } else if (ruleId == this.RULE_ID.RulePostedIdlingId) {\n              this.idlingingDriver = response.data.rows;\n            }\n          } else {\n          }\n        },\n        (error) => {\n          if (ruleId == this.RULE_ID.RulePostedSpeedingId) {\n            this.speedingDriver = [];\n          } else if (ruleId == this.RULE_ID.RulePostedIdlingId) {\n            this.idlingingDriver = [];\n          }\n        }\n      );\n  }\n\n  worstDriver() {\n    this.worstDriverdetail = [];\n    let querryParams = this.createQuerryparams();\n    this.service\n      .get(`dashboard/worst-driver?${querryParams}`)\n      .pipe()\n      .subscribe(\n        (response) => {\n          if (response.data) {\n            this.worstDriverdetail = response.data;\n          }\n        },\n        (error) => {\n          this.worstDriverdetail = [];\n        }\n      );\n  }\n}\n\n@Component({\n  selector: \"dialog-content-dashboard-dialog\",\n  templateUrl: \"./chart-dashboard.html\",\n  styleUrls: [\"./dashboard-home-v2.component.scss\"],\n})\nexport class DialogContentdashboardDialog {\n  constructor(\n    public dialogRef: MatDialogRef<DialogContentdashboardDialog>,\n    private elementRef: ElementRef,\n    private translate: TranslateService,\n    @Inject(MAT_DIALOG_DATA) public data\n  ) {\n    Chart.register(...registerables);\n    Chart.register(zoomPlugin);\n    setTimeout(() => {\n      // console.log(data);\n      let labelfirst;\n      let labelsecond;\n      if (data.safeScore) {\n        this.lineChartAll(data.chartdate, data.chartData);\n      } else {\n        (labelfirst = \"Day Score\"), (labelsecond = \"Night Score\");\n        this.lineChart(\n          data.chartdate,\n          data.chartdata,\n          data.speed,\n          data.name,\n          labelfirst,\n          labelsecond\n        );\n      }\n    }, 200);\n  }\n\n  linemyChart: any;\n\n  lineChartAll(label, chartData) {\n    if (this.linemyChart) {\n      this.linemyChart.destroy();\n    }\n    var labels = label;\n\n    let htmlRef = this.elementRef.nativeElement.querySelector(`#lineChart`);\n    const gradient = this.elementRef.nativeElement\n      .querySelector(`#lineChart`)\n      .getContext(\"2d\")\n      .createLinearGradient(0, 0, 0, 400);\n    gradient.addColorStop(0, \"rgba(255, 112, 112, 0.05)\");\n    gradient.addColorStop(1, \"rgba(255, 112, 112, 0.11)\");\n    let fleetScore;\n    this.translate.get(\"fleetscore\").subscribe((text: string) => {\n      fleetScore = text;\n    });\n    let speed;\n    this.translate.get(\"speeding\").subscribe((text: string) => {\n      speed = text;\n    });\n    let idling;\n    this.translate.get(\"idiling\").subscribe((text: string) => {\n      idling = text;\n    });\n    let safeAcc;\n    this.translate.get(\"hardAcceleration\").subscribe((text: string) => {\n      safeAcc = text;\n    });\n    let deAcc;\n    this.translate.get(\"hardBraking\").subscribe((text: string) => {\n      deAcc = text;\n    });\n    let corner;\n    this.translate.get(\"harshCorner\").subscribe((text: string) => {\n      corner = text;\n    });\n\n    const dataSet: any = [\n      {\n        data: chartData.safe_score,\n        borderColor: \"#371987\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 2.66,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: fleetScore,\n        borderDash: [10, 5],\n      },\n      {\n        data: chartData.speed,\n        borderColor: \"#FF9950\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 2.66,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: speed,\n      },\n      {\n        data: chartData.idiling,\n        borderColor: \"#00CBA0\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 2.66,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: idling,\n      },\n      {\n        data: chartData.acc,\n        borderColor: \"#4DBFFF\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 2.66,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: safeAcc,\n      },\n      {\n        data: chartData.braking,\n        borderColor: \"#C5CDD4\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 3.84,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: deAcc,\n      },\n      {\n        data: chartData.cornering,\n        borderColor: \"#C5CDD4\",\n        pointBackgroundColor: \"#FA1464\",\n        borderWidth: 3.84,\n        fill: false,\n        cubicInterpolationMode: \"monotone\",\n        tension: 0.4,\n        backgroundColor: gradient,\n        label: corner,\n      },\n    ];\n    this.linemyChart = new Chart(htmlRef, {\n      type: \"line\",\n      data: {\n        labels: labels,\n        datasets: dataSet,\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        elements: {\n          point: {\n            radius: 0,\n          },\n        },\n        plugins: {\n          legend: {\n            display: true,\n          },\n          tooltip: {\n            enabled: true,\n            backgroundColor: \"#ffffff\",\n            titleAlign: \"center\",\n            footerAlign: \"center\",\n            bodyAlign: \"center\",\n            titleColor: \"#1B194B\",\n            displayColors: false,\n            callbacks: {\n              labelTextColor: (context) => {\n                return \"#1B194B\";\n              },\n            },\n          },\n          zoom: {\n            zoom: {\n              wheel: {\n                enabled: true,\n              },\n              pinch: {\n                enabled: true,\n              },\n              drag: {\n                enabled: true,\n              },\n              mode: \"x\",\n            },\n          },\n        },\n        interaction: {\n          intersect: false,\n        },\n        scales: {\n          x: {\n            display: true,\n          },\n          y: {\n            display: true,\n\n            max: AppConfig.gaugeMax,\n            ticks: {\n              precision: 0,\n            },\n          },\n        },\n      },\n    });\n  }\n\n  lineChart(label, point, safe, name, labelfirst, labelsecond) {\n    if (this.linemyChart) {\n      this.linemyChart.destroy();\n    }\n    var labels = label;\n\n    const datapoints = point;\n\n    let htmlRef = this.elementRef.nativeElement.querySelector(`#lineChart`);\n    const gradient = this.elementRef.nativeElement\n      .querySelector(`#lineChart`)\n      .getContext(\"2d\")\n      .createLinearGradient(0, 0, 0, 400);\n    gradient.addColorStop(0, \"rgba(255, 112, 112, 0.05)\");\n    gradient.addColorStop(1, \"rgba(255, 112, 112, 0.11)\");\n    let dayDrive;\n    this.translate.get(\"daydriving\").subscribe((text: string) => {\n      dayDrive = text;\n    });\n    let nightDrive;\n    this.translate.get(\"nightdriving\").subscribe((text: string) => {\n      nightDrive = text;\n    });\n    this.linemyChart = new Chart(htmlRef, {\n      type: \"line\",\n      data: {\n        labels: labels,\n        datasets: [\n          {\n            data: safe,\n            borderColor: \"#45CBFC\",\n            pointBackgroundColor: \"#FA1464\",\n            borderWidth: 3,\n            fill: false,\n            cubicInterpolationMode: \"monotone\",\n            tension: 0.4,\n            backgroundColor: \"#001E50\",\n            label: dayDrive,\n          },\n          {\n            data: datapoints,\n            borderColor: \"#371A87\",\n            pointBackgroundColor: \"#FA1464\",\n            borderWidth: 3,\n            fill: false,\n            cubicInterpolationMode: \"monotone\",\n            tension: 0.4,\n            backgroundColor: \"#939EAA\",\n            label: nightDrive,\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        elements: {\n          point: {\n            radius: 0,\n          },\n        },\n        plugins: {\n          legend: {\n            display: true,\n          },\n          tooltip: {\n            enabled: true,\n            backgroundColor: \"#ffffff\",\n            titleAlign: \"center\",\n            footerAlign: \"center\",\n            bodyAlign: \"center\",\n            titleColor: \"#1B194B\",\n            displayColors: false,\n            callbacks: {\n              labelTextColor: (context) => {\n                return \"#1B194B\";\n              },\n            },\n          },\n          zoom: {\n            zoom: {\n              wheel: {\n                enabled: true,\n              },\n              pinch: {\n                enabled: true,\n              },\n              drag: {\n                enabled: true,\n              },\n              mode: \"x\",\n            },\n          },\n        },\n        interaction: {\n          intersect: false,\n        },\n        scales: {\n          x: {\n            display: true,\n          },\n          y: {\n            display: true,\n\n            max: AppConfig.gaugeMax,\n            ticks: {\n              precision: 0,\n            },\n          },\n        },\n      },\n    });\n  }\n\n  resetZoom() {\n    this.linemyChart.resetZoom();\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n}\n","<div class=\"attention p-3 mb-3\">\n  <span class=\"border-text\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n      ngbTooltip=\"{{ 'Fleetscorebreakdown' | translate }}\" #tooltip3=\"ngbTooltip\">{{\"Fleetscorebreakdown\" | translate}}</span>\n  <div class=\"d-flex\" *ngIf=\"leftSide || rightSide\">\n    <div class=\" needAttention \" *ngIf=\"leftSide\" [ngStyle]=\"{ 'width': leftWidth + '%'}\" [ngClass]=\"{'check': leftCount==5}\">\n      <!-- <h2>{{\"needattention\" | translate}}</h2> -->\n      <div class=\"d-flex  \">\n          <div class=\"dataBoxes w-100 \" [ngStyle]=\"{ 'max-width': ((100-5)/leftCount) + '%'}\"  *ngIf=\"dashBoardData?.speed_score < attentionValue\" [ngClass]=\"{'active': boxVal == 1}\" (click)=\"changeBoxValue(1)\">\n              <div class=\"d-flex justify-content-between databoxescolors\">\n                  {{service.convertToDutch(dashBoardData?.speed_score)}}\n\n                 \n                  <span>\n                      <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.speedChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.speedChange >= 0; else elseTemplate15\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.speedChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate15>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.speedChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"speedingChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n                ngbTooltip=\"{{ 'speeding' | translate }}\" #tooltip3=\"ngbTooltip\">{{\"speeding\" | translate}}</h4>\n            </div>\n        </div>\n        <div class=\"dataBoxes w-100\" [ngStyle]=\"{ 'max-width': ((100-5)/leftCount) + '%'}\"\n            *ngIf=\"dashBoardData?.idling_score < attentionValue\" [ngClass]=\"{'active': boxVal == 5}\"\n            (click)=\"changeBoxValue(5)\">\n            <div class=\"d-flex justify-content-between databoxescolors\">\n                {{service.convertToDutch(dashBoardData?.idling_score)}}\n\n                <span>\n                    <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.idilingChange }}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.idilingChange >= 0; else elseTemplate16\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.idilingChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate16>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.idilingChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"idilingChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n                ngbTooltip=\"{{ 'idiling' | translate }}\" #tooltip3=\"ngbTooltip\">{{\"idiling\" | translate}}</h4>\n            </div>\n        </div>\n        <div class=\"dataBoxes w-100\" [ngStyle]=\"{ 'max-width': ((100-5)/leftCount) + '%'}\"\n            *ngIf=\"dashBoardData?.breaking_score < attentionValue\" [ngClass]=\"{'active': boxVal == 3}\"\n            (click)=\"changeBoxValue(3)\">\n            <div class=\"d-flex justify-content-between databoxescolors\">\n                {{service.convertToDutch(dashBoardData?.breaking_score)}}\n\n                <span>\n                    <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.brakingChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.brakingChange >= 0; else elseTemplate18\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.brakingChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate18>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.brakingChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"brakingChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n                ngbTooltip=\"{{ 'hardBraking' | translate }}\" #tooltip3=\"ngbTooltip\">{{\"hardBraking\" | translate}}</h4>\n            </div>\n        </div>\n        <div class=\"dataBoxes w-100\" [ngStyle]=\"{ 'max-width': ((100-5)/leftCount) + '%'}\"\n            *ngIf=\"dashBoardData?.cornering_score < attentionValue\" [ngClass]=\"{'active': boxVal == 4}\"\n            (click)=\"changeBoxValue(4)\">\n            <div class=\"d-flex justify-content-between databoxescolors\">\n                {{service.convertToDutch(dashBoardData?.cornering_score)}}\n\n                <span>\n                    <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.cornerChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.cornerChange >= 0; else elseTemplate19\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.cornerChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate19>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.cornerChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"corneringChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n                ngbTooltip=\"{{ 'harshCorner' | translate }}\" #tooltip3=\"ngbTooltip\">{{\"harshCorner\" | translate}}</h4>\n            </div>\n        </div>\n        <div class=\"dataBoxes w-100\" [ngStyle]=\"{ 'max-width': ((100-5)/leftCount) + '%'}\"\n            *ngIf=\"dashBoardData?.acceleration_score< attentionValue\" [ngClass]=\"{'active': boxVal == 2}\"\n            (click)=\"changeBoxValue(2)\">\n            <div class=\"d-flex justify-content-between databoxescolors\">\n                {{service.convertToDutch(dashBoardData?.acceleration_score)}}\n\n                <span>\n                    <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.accChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.accChange >= 0; else elseTemplate17\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.accChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate17>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.accChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"accelerationChart\"></canvas>\n            </div>\n              <div class=\"text-center mt-2\">\n                  <h4 class=\"p-0 m-0\">{{\"hardAcceleration\" | translate}}</h4>\n              </div>\n          </div>\n      </div>\n  </div>\n  <div class=\" goingGood \" *ngIf=\"rightSide\" [ngStyle]=\"{ 'width': rightWidth + '%'}\" >\n      <!-- <h2>{{\"goinggood\" | translate}}</h2> -->\n      <div class=\"d-flex \">\n          <div class=\"dataBoxes w-100 \" [ngStyle]=\"{ 'max-width': ((100-5)/(5-leftCount)) + '%'}\" *ngIf=\"dashBoardData?.speed_score >= attentionValue\" [ngClass]=\"{'active': boxVal == 1}\" (click)=\"changeBoxValue(1)\">\n              <div class=\"d-flex justify-content-between databoxescolors\">\n                  {{service.convertToDutch(dashBoardData?.speed_score)}}\n\n                 \n                \n                  <span>\n                      <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.speedChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.speedChange >= 0; else elseTemplate15\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.speedChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate15>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.speedChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"speedingChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\">{{\"speeding\" | translate}}</h4>\n            </div>\n        </div>\n        <div class=\"dataBoxes w-100\" [ngStyle]=\"{ 'max-width': ((100-5)/(5-leftCount)) + '%'}\"\n            *ngIf=\"dashBoardData?.idling_score >= attentionValue\" [ngClass]=\"{'active': boxVal == 5}\"\n            (click)=\"changeBoxValue(5)\">\n            <div class=\"d-flex justify-content-between databoxescolors\">\n                {{service.convertToDutch(dashBoardData?.idling_score)}}\n\n                <span>\n                    <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.idilingChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.idilingChange >= 0; else elseTemplate16\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.idilingChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate16>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.idilingChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"idilingChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\">{{\"idiling\" | translate}}</h4>\n            </div>\n        </div>\n        <div class=\"dataBoxes w-100\" [ngStyle]=\"{ 'max-width': ((100-5)/(5-leftCount)) + '%'}\"\n            *ngIf=\"dashBoardData?.breaking_score >= attentionValue\" [ngClass]=\"{'active': boxVal == 3}\"\n            (click)=\"changeBoxValue(3)\">\n            <div class=\"d-flex justify-content-between databoxescolors\">\n                {{service.convertToDutch(dashBoardData?.breaking_score)}}\n\n                <span>\n                    <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.brakingChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.brakingChange >= 0; else elseTemplate18\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.brakingChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate18>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.brakingChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"brakingChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\">{{\"hardBraking\" | translate}}</h4>\n            </div>\n        </div>\n        <div class=\"dataBoxes w-100\" [ngStyle]=\"{ 'max-width': ((100-5)/(5-leftCount)) + '%'}\"\n            *ngIf=\"dashBoardData?.cornering_score >= attentionValue\" [ngClass]=\"{'active': boxVal == 4}\"\n            (click)=\"changeBoxValue(4)\">\n            <div class=\"d-flex justify-content-between databoxescolors\">\n                {{service.convertToDutch(dashBoardData?.cornering_score)}}\n\n                <span>\n                    <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.cornerChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.cornerChange >= 0; else elseTemplate19\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.cornerChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate19>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.cornerChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"corneringChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\">{{\"harshCorner\" | translate}}</h4>\n            </div>\n        </div>\n        <div class=\"dataBoxes w-100\" [ngStyle]=\"{ 'max-width': ((100-5)/(5-leftCount)) + '%'}\"\n            *ngIf=\"dashBoardData?.acceleration_score >= attentionValue\" [ngClass]=\"{'active': boxVal == 2}\"\n            (click)=\"changeBoxValue(2)\">\n            <div class=\"d-flex justify-content-between databoxescolors\">\n                {{service.convertToDutch(dashBoardData?.acceleration_score)}}\n\n                <span>\n                    <!-- <img src=\"assets/images/IconsDown.png\" alt=\"\">\n                      <span>{{dashBoardData?.accChange}}%</span> -->\n                    <ng-container *ngIf=\"dashBoardData?.accChange >= 0; else elseTemplate17\">\n                        <span class=\"green\"><img src=\"assets/images/Iconsup.png\">\n                            {{service.convertToDutch(dashBoardData?.accChange) || '0'}}% </span>\n                    </ng-container>\n                    <ng-template #elseTemplate17>\n                        <span class=\"red\"><img src=\"assets/images/IconsDown.png\">\n                            {{service.convertToDutch(dashBoardData?.accChange) || '0'}}% </span>\n                    </ng-template>\n                </span>\n            </div>\n            <div class=\"speedChart\" style=\"height: 100px\">\n                <canvas id=\"accelerationChart\"></canvas>\n            </div>\n            <div class=\"text-center mt-2\">\n                <h4 class=\"p-0 m-0\">{{\"hardAcceleration\" | translate}}</h4>\n            </div>\n        </div>\n    </div>\n</div>\n    \n  </div>\n</div>\n<div>\n  <div\n    class=\"w-100 d-flex justify-content-center mb-5\"\n    *ngIf=\"isTripHistoryLoading\"\n  >\n    <ng-container>\n      <mat-spinner style=\"margin: 0 auto\" [diameter]=\"50\"></mat-spinner>\n    </ng-container>\n  </div>\n</div>\n\n<!-- grapg section -->\n<div class=\"dashGraphBox\">\n  <div class=\"boxBack left100\">\n    <div class=\"graphTab mb-4\">\n      <div class=\"graphTab__checkbox\">\n        <div class=\"d-flex\">\n          <div\n          class=\"graphTab__checkbox__safeScoreSecond\"\n          (click)=\"changecheckboxValue(1)\"\n        >\n          <div\n            class=\"checkbox-dynamic\"\n            [ngClass]=\"{ activeSafeScore: safeScoreCheckbox }\"\n          ></div>\n          <label class=\"form-check-label\" for=\"flexCheckChecked\" [ngClass]=\"{'safari': browsername == 'safari'}\">{{\n            \"t.safeScore\" | translate\n          }}</label>\n        </div>\n\n        <div\n          class=\"graphTab__checkbox__speeding\"\n          (click)=\"changecheckboxValue(2)\"\n        >\n          <div\n            class=\"checkbox-dynamic-second\"\n            [ngClass]=\"{ activeOther: speedingCheckbox }\"\n          ></div>\n          <label\n            class=\"form-check-label text-capitalize\"\n            for=\"flexCheckChecked\" [ngClass]=\"{'safari': browsername == 'safari'}\"\n          >\n            {{ \"speeding\" | translate }}\n          </label>\n        </div>\n        <div\n          class=\"graphTab__checkbox__idiling\"\n          (click)=\"changecheckboxValue(3)\"\n        >\n          <div\n            class=\"checkbox-dynamic-second\"\n            [ngClass]=\"{ activeOther: idilingCheckbox }\"\n          ></div>\n          <label\n            class=\"form-check-label text-capitalize\"\n            for=\"flexCheckChecked\" [ngClass]=\"{'safari': browsername == 'safari'}\"\n          >\n            {{ \"idiling\" | translate }}\n          </label>\n        </div>\n        <div class=\"graphTab__checkbox__acc\" (click)=\"changecheckboxValue(4)\">\n          <div\n            class=\"checkbox-dynamic-second\"\n            [ngClass]=\"{ activeOther: accCheckbox }\"\n          ></div>\n          <label\n            class=\"form-check-label text-capitalize\"\n            for=\"flexCheckChecked\" [ngClass]=\"{'safari': browsername == 'safari'}\"\n          >\n            {{ \"hardAcceleration\" | translate }}\n          </label>\n        </div>\n        <div\n          class=\"graphTab__checkbox__braking\"\n          (click)=\"changecheckboxValue(5)\"\n        >\n          <div\n            class=\"checkbox-dynamic-second\"\n            [ngClass]=\"{ activeOther: brakingCheckbox }\"\n          ></div>\n          <label\n            class=\"form-check-label text-capitalize\"\n            for=\"flexCheckChecked\" [ngClass]=\"{'safari': browsername == 'safari'}\"\n          >\n            {{ \"hardBraking\" | translate }}\n          </label>\n        </div>\n        <div\n          class=\"graphTab__checkbox__cornering\"\n          (click)=\"changecheckboxValue(6)\"\n        >\n          <div\n            class=\"checkbox-dynamic-second\"\n            [ngClass]=\"{ activeOther: corneringCheckbox }\"\n          ></div>\n          <label\n            class=\"form-check-label text-capitalize\"\n            for=\"flexCheckChecked\" [ngClass]=\"{'safari': browsername == 'safari'}\"\n          >\n            {{ \"harshCorner\" | translate }}\n          </label>\n        </div>\n        </div>\n        <div class=\"graphTab__checkbox__export\">\n          <img class=\"pl-3\" src=\"assets/images/newIcons/export.svg\" />\n        </div>\n      </div>\n      <div class=\"graphTab__title\">\n        <!-- <h4 class=\"graphTitle text-center text-capitalize d-inline-block\">{{title}}</h4> -->\n      </div>\n    </div>\n\n    <div (click)=\"openChartPopup()\" >\n      <canvas id=\"lineChart\" style=\"height: 350px\"></canvas>\n    </div>\n    <!-- \n        <div class=\"viwlAll text-center cursor\" (click)=\"routeToDriver()\">\n            Show list of worst {{title}} drivers\n\n            <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\n                xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 20 20\"\n                style=\"enable-background:new 0 0 20 20;\" xml:space=\"preserve\">\n                <style type=\"text/css\">\n                    .st0 {\n                        fill: #0064FF;\n                    }\n                </style>\n                <g>\n                    <path class=\"st0\" d=\"M12,15.8c-0.2,0-0.4-0.1-0.5-0.2c-0.3-0.3-0.3-0.8,0-1.1L16,10l-4.5-4.5c-0.3-0.3-0.3-0.8,0-1.1s0.8-0.3,1.1,0\n               l5.1,5.1c0.3,0.3,0.3,0.8,0,1.1l-5.1,5.1C12.4,15.7,12.2,15.8,12,15.8z\" />\n                </g>\n                <g>\n                    <path class=\"st0\"\n                        d=\"M16.9,10.8h-14c-0.4,0-0.8-0.3-0.8-0.8s0.3-0.8,0.8-0.8h14c0.4,0,0.8,0.3,0.8,0.8S17.4,10.8,16.9,10.8z\" />\n                </g>\n            </svg>\n\n        </div> -->\n  </div>\n  <!-- <div class=\"boxBack right33\">\n        <div class=\"backpolarGreen\">\n            <div class=\"graphSide\">\n                <div style=\"height:300px\">\n                    <canvas id=\"ploarChart\"></canvas>\n                </div>\n            </div>\n            <h4 class=\"exceptionTitle text-center mt-2\">{{\"exceptionRatio\" | translate}}</h4>\n        </div>\n    </div> -->\n  <!-- <div class=\"boxBack right33\">\n        <h4 class=\"suddenScroreTitle\">Driver’s sudden score change</h4>\n\n        <div class=\"suddenScroreBox active\">\n            <div class=\"suddenBox\">\n                <div class=\"getRide\">\n                    <p class=\"mb-0 ridOfmax1\">Igor Medvedev</p>\n                </div>\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle\">Past 2h score:</p>\n                    <span class=\"safeScore dangerbox\">-4,3</span>\n                </div>\n            </div>\n            <div class=\"suddenBox\">\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle pl-1\">Past 2h score:</p>\n                    <p class=\"exceptionName\">Speeding</p>\n                </div>\n\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle\">Past 2h score:</p>\n                    <span class=\"safeScore successbox\">-4,3</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"suddenScroreBox\">\n            <div class=\"suddenBox\">\n                <div class=\"getRide\">\n                    <p class=\"mb-0 ridOfmax1\">Igor Medvedev</p>\n                </div>\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle\">Past 2h score:</p>\n                    <span class=\"safeScore dangerbox\">-4,3</span>\n                </div>\n            </div>\n            <div class=\"suddenBox\">\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle pl-1\">Past 2h score:</p>\n                    <p class=\"exceptionName\">Speeding</p>\n                </div>\n\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle\">Past 2h score:</p>\n                    <span class=\"safeScore successbox\">-4,3</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"suddenScroreBox\">\n            <div class=\"suddenBox\">\n                <div class=\"getRide\">\n                    <p class=\"mb-0 ridOfmax1\">Igor Medvedev</p>\n                </div>\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle\">Past 2h score:</p>\n                    <span class=\"safeScore dangerbox\">-4,3</span>\n                </div>\n            </div>\n            <div class=\"suddenBox\">\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle pl-1\">Past 2h score:</p>\n                    <p class=\"exceptionName\">Speeding</p>\n                </div>\n\n                <div class=\"suddenLeftRight\">\n                    <p class=\"pastScoreTitle\">Past 2h score:</p>\n                    <span class=\"safeScore successbox\">-4,3</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"viwlAll\">\n            View all\n            <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\n                xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 20 20\"\n                style=\"enable-background:new 0 0 20 20;\" xml:space=\"preserve\">\n                <style type=\"text/css\">\n                    .st0 {\n                        fill: #0064FF;\n                    }\n                </style>\n                <g>\n                    <path class=\"st0\" d=\"M12,15.8c-0.2,0-0.4-0.1-0.5-0.2c-0.3-0.3-0.3-0.8,0-1.1L16,10l-4.5-4.5c-0.3-0.3-0.3-0.8,0-1.1s0.8-0.3,1.1,0\n               l5.1,5.1c0.3,0.3,0.3,0.8,0,1.1l-5.1,5.1C12.4,15.7,12.2,15.8,12,15.8z\" />\n                </g>\n                <g>\n                    <path class=\"st0\"\n                        d=\"M16.9,10.8h-14c-0.4,0-0.8-0.3-0.8-0.8s0.3-0.8,0.8-0.8h14c0.4,0,0.8,0.3,0.8,0.8S17.4,10.8,16.9,10.8z\" />\n                </g>\n            </svg>\n\n\n        </div>\n    </div> -->\n</div>\n\n<!-- <div class=\"row\">\n    <div class=\"col-md-3\" *ngIf=\"speedingDriver.length\">\n        <div>\n        </div>\n    </div>\n    <div class=\"col-md-3\" *ngIf=\"idlingingDriver.length\">\n        <div>\n            <app-dashboard-card [title]=\"'Worst 5 idling drivers'\" [type]='1' [data]='idlingingDriver'></app-dashboard-card>\n        </div>\n    </div>\n    <div class=\"col-md-3\" *ngIf=\"false\">\n        <div>\n            <app-dashboard-card [title]=\"'Worst 5 milage vehicles'\" [type]='2'></app-dashboard-card>\n        </div>\n    </div>\n    <div class=\"col-md-3\" *ngIf=\"false\">\n        <div>\n            <app-dashboard-card [title]=\"'Top 5 driver with probable crash'\" [type]='3'></app-dashboard-card>\n        </div>\n    </div>\n\n    <div class=\"col-md-3\" *ngIf=\"false\">\n        <div>\n            <app-dashboard-card [title]=\"'Top 5 drivers'\" [border]=\"'#00CBA0'\" [type]='1'></app-dashboard-card>\n        </div>\n    </div>\n    <div class=\"col-md-3\" *ngIf=\"worstDriverdetail.length\">\n        <div>\n            <app-dashboard-card [title]=\"'Worst 5 drivers'\" [type]='1' [data]='worstDriverdetail'></app-dashboard-card>\n        </div>\n    </div>\n    <div class=\"col-md-3\" *ngIf=\"false\">\n        <div>\n            <app-dashboard-card [title]=\"'Top 5 vehicles performance'\" [border]=\"'#00CBA0'\" [type]='2'>\n            </app-dashboard-card>\n        </div>\n    </div>\n    <div class=\"col-md-3\" *ngIf=\"false\">\n        <div>\n            <app-dashboard-card [title]=\"'Worst 5 vehicles performance'\" [type]='2'></app-dashboard-card>\n        </div>\n    </div>\n</div> -->\n<div class=\"dashGraphBox \">\n  <div class=\"boxBack left50 mainBox fixHeight\" *ngIf=\"exceptionData && exceptionData.length\">\n    <div class=\"d-flex justify-content-between graphTab\">\n      <h4 class=\"typeTitle\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n      ngbTooltip=\"{{ 'harshType' | translate }}\" #tooltip3=\"ngbTooltip\" [ngClass]=\"{'safari': browsername == 'safari'}\">{{\"harshType\" | translate}}</h4>\n      <!-- <h4 class=\"typeTitle\">{{\"totalHarshEvent\" | translate}} :  {{ service.convertToDutch(totalException) }}</h4> -->\n    </div>\n    <app-bar-chart [id]=\"'barchart1'\" [type]='1' [data]='exceptionData' [label]='exceptionLabel'></app-bar-chart>\n\n    <!-- <div class=\"speedChart\" style=\"height: 270px\">\n            <canvas id=\"barchart\"></canvas>\n        </div> -->\n  </div>\n  <div class=\"boxBack left50 mainBox fixHeight\" *ngIf=\"roadTypeData && roadTypeData.length\">\n    <h4 class=\"typeTitle\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n    ngbTooltip=\"{{ 'vehicleDrivenSpeed' | translate }}\" #tooltip3=\"ngbTooltip\" [ngClass]=\"{'safari': browsername == 'safari'}\">{{\"vehicleDrivenSpeed\" | translate}}</h4>\n    <app-bar-chart [id]=\"'barchart2'\" [type]='2' [data]='roadTypeData' [label]='roadTypeLabel'></app-bar-chart>\n\n    <!-- <div class=\"speedChart\" style=\"height: 270px\">\n            <canvas id=\"barchart\"></canvas>\n        </div> -->\n  </div>\n  <div class=\"boxBack left50 mainBox fixHeight mainBox_card d-flex justify-content-between\" *ngIf=\"bestScore.length || worstScore.length\">\n    <app-dashboard-card *ngIf=\"bestScore.length\"\n      [border]=\"'#46E18C'\"\n      [type]=\"1\"\n      [data]=\"bestScore\"\n      class=\"w-100 left50-box\"\n    ></app-dashboard-card>\n    <app-dashboard-card *ngIf=\"worstScore.length\"\n      class=\"margin-left-space w-100 left50-box\"\n      [border]=\"'#F3543F'\"\n      [type]=\"2\"\n      [data]=\"worstScore\"\n      \n    ></app-dashboard-card>\n  </div>\n  <div class=\"boxBack left50 mainBox fixHeight mainBox_card d-flex justify-content-between\" *ngIf=\"mostTravelled.length || probablyCrashed.length\">\n    <app-dashboard-card *ngIf=\"mostTravelled.length\"\n      [border]=\"'#FDDBD7'\"\n      [type]=\"3\"\n      [data]=\"mostTravelled\"\n      class=\"w-100 left50-box\"\n    ></app-dashboard-card>\n    <app-dashboard-card *ngIf=\"probablyCrashed.length\"\n      class=\"margin-left-space w-100 left50-box\"\n      [border]=\"'#FDDBD7'\"\n      [type]=\"4\"\n      [data]=\"probablyCrashed\"\n\n    ></app-dashboard-card>\n  </div>\n  <div class=\"boxBack left50 mainBox fixHeight\" *ngIf=\"speed_distribution.data && speed_distribution.data.length\">\n    <h4 class=\"typeTitle\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n    ngbTooltip=\"{{ 'speedHarshEvent' | translate }}\" #tooltip3=\"ngbTooltip\" [ngClass]=\"{'safari': browsername == 'safari'}\">{{\"speedHarshEvent\" | translate}}</h4>\n    <app-bar-chart [id]=\"'barchart3'\" [type]='3' [data]='speed_distribution.data' [label]='speed_distribution.label'></app-bar-chart>\n\n    <!-- <div class=\"speedChart\" style=\"height: 270px\">\n            <canvas id=\"barchart\"></canvas>\n        </div> -->\n  </div>\n  <div class=\"boxBack left50 mainBox fixHeight\" *ngIf=\"breaking_distribution.data && breaking_distribution.data.length\">\n    <h4 class=\"typeTitle\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n    ngbTooltip=\"{{ 'brakingHarshEvent' | translate }}\" #tooltip3=\"ngbTooltip\" [ngClass]=\"{'safari': browsername == 'safari'}\">{{\"brakingHarshEvent\" | translate}}</h4>\n    <app-bar-chart [id]=\"'barchart4'\" [type]='4' [data]='breaking_distribution.data' [label]='breaking_distribution.label'></app-bar-chart>\n\n    <!-- <div class=\"speedChart\" style=\"height: 270px\">\n            <canvas id=\"barchart\"></canvas>\n        </div> -->\n  </div>\n  <div class=\"boxBack left50 mainBox fixHeight\" *ngIf=\"acceleration_distribution.data && acceleration_distribution.data.length\">\n    <h4 class=\"typeTitle\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n    ngbTooltip=\"{{ 'accHarshEvent' | translate }}\" #tooltip3=\"ngbTooltip\" [ngClass]=\"{'safari': browsername == 'safari'}\">{{\"accHarshEvent\" | translate}}</h4>\n    <app-bar-chart [id]=\"'barchart5'\" [type]='5' [data]='acceleration_distribution.data' [label]='acceleration_distribution.label'></app-bar-chart>\n\n    <!-- <div class=\"speedChart\" style=\"height: 270px\">\n            <canvas id=\"barchart\"></canvas>\n        </div> -->\n  </div>\n  <div class=\"boxBack left50 mainBox fixHeight\" *ngIf=\"cornering_distribution.data && cornering_distribution.data.length\">\n    <h4 class=\"typeTitle\" [ngClass]=\"{'safari': browsername == 'safari'}\">{{\"cornerHarshEvent\" | translate}}</h4>\n    <app-bar-chart [id]=\"'barchart6'\" [type]='6' [data]='cornering_distribution.data' [label]='cornering_distribution.label'></app-bar-chart>\n  </div>\n\n  <div class=\"boxBack left50 mainBox fixHeight\" [hidden]='!dayNightScore.date || !dayNightScore.date.length'>\n    <div class=\"backpolarGreen\">\n      <div class=\"graphSide\">\n        <div class=\"d-flex justify-content-between graphTab\">\n          <div class=\"graphTab__title\">\n            <h4 class=\"graphTitle text-center  d-inline-block\" [autoClose]=\"true\" placement=\"top\" container=\"body\"\n            ngbTooltip=\"{{ 'dayvsnightdrivingscore' | translate }}\" #tooltip3=\"ngbTooltip\">\n              {{ \"dayvsnightdrivingscore\" | translate }}\n            </h4>\n            <!-- <img class=\"pl-3\" src=\"assets/images/newIcons/export.svg\"> -->\n          </div>\n          <div class=\"graphTab__checkbox\">\n            <div\n              class=\"graphTab__checkbox__safeScore\"\n              (click)=\"changecheckboxValuesecond(1)\"\n            >\n              <div\n                class=\"checkbox-dynamic-score\"\n                [ngClass]=\"{ activeSafeScore: safeScoreCheckboxsecond }\"\n              ></div>\n              <label class=\"form-check-label\" for=\"flexCheckChecked\">{{\n                \"daydriving\" | translate\n              }}</label>\n            </div>\n\n            <div\n              class=\"graphTab__checkbox__otherScore\"\n              (click)=\"changecheckboxValuesecond(2)\"\n            >\n              <div\n                class=\"checkbox-dynamic-second\"\n                [ngClass]=\"{ activeOther: otherCheckboxsecond }\"\n              ></div>\n              <label\n                class=\"form-check-label \"\n                for=\"flexCheckChecked\"\n              >\n                {{ \"nightdriving\" | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div style=\"height: 250px\" (click)=\"openChartPopupSecondChart()\">\n          <canvas id=\"lineChartScore\"></canvas>\n        </div>\n      </div>\n    </div>\n  </div>\n \n  <div class=\"boxBack left50 mainBox fixHeight\" *ngIf=\"false\">\n    <div class=\"weather-forcast\">\n      <div class=\"row\">\n          <div class=\"col-md-12\">\n              <div class=\"weather-forcast_left\">\n                  <span class=\"title\">\n                      Tuesday, 12 April 2022\n                  </span>\n                  <div class=\"d-flex  align-items-center\">\n                      <div>\n                          <div class=\"d-flex align-items-center\">\n                              <img src=\"assets/images/arrow-weather.svg\">\n                              <p class=\"m-0 pl-1\">26°C</p>\n                          </div>\n                          <div class=\"d-flex align-items-center\">\n                              <img class=\"down-img\" src=\"assets/images/arrow-weather.svg\">\n                              <p class=\"m-0 pl-1\">16°C</p>\n                          </div>\n                      </div>\n                      <div class=\"ml-3\">\n                          <span>22°C</span>\n                      </div>\n                  </div>\n              </div>\n          </div>\n          <div class=\"col-md-12 mt-2\">\n            <div class=\"row\">\n              <div class=\"col-md-7\">\n                  <div class=\"row\">\n                    <div class=\"col-md-5\">\n                      <div>\n                        <img src=\"assets/images/sunrise.svg\" alt=\"\">\n                        <span class=\"ml-3 light-text\">09:18 AM</span>\n                      </div>\n                      <div>\n                        <img src=\"assets/images/sunrise.svg\" alt=\"\">\n                        <span class=\"ml-3 light-text\">09:18 AM</span>\n                      </div>\n                    </div>\n                    <div class=\"col-md-7\">\n                      <div>\n                        <span class=\"light-text\">Driving in bad weather</span>\n                      </div>\n                      <div>\n                        <span class=\"dark-text\">56h 32m</span>\n                      </div>\n                    </div>\n                  </div>\n              </div>\n              <div class=\"col-md-5\">\n                <div class=\"row\">\n                  <div class=\"col-md-6\">\n                    <div>\n                     \n                      <span class=\"ml-3 light-text\">Wind</span>\n                    </div>\n                    <div>\n                     \n                      <span class=\"ml-3 dark-text\">10.23 km/h</span>\n                    </div>\n                  </div>\n                  <div class=\"col-md-6\">\n                    <div>\n                      <span class=\"light-text\">Humidity</span>\n                    </div>\n                    <div>\n                      <span class=\"dark-text\">56%</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-12 mt-3\">\n              <div class=\"row\">\n                <div class=\"col-md-3\">\n                  <div>\n                    <div>\n                      <span class=\"light-text\">Visibility</span>\n                    </div>\n                    <div>\n                      <span class=\"dark-text\">14.83 km</span>\n                      \n                    </div>\n                  </div>\n                  <div class=\"mt-3\">\n                    <div>\n                      <span class=\"light-text\">UV</span>\n                    </div>\n                    <div>\n                      <span class=\"black-text\">Lowest</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-9\">\n                  <div class=\"weather-forcast_last\">\n                    <h3 class=\"mb-4\">Hourly Forecast</h3>\n                    <div class=\"d-flex justify-content-between\">\n                        <div *ngFor=\"let item of items\">\n                            <span>{{item.name}}</span><br />\n                            <img [src]=\"item.imagePath\">\n                        </div>\n      \n                    </div>\n      \n                </div>\n                </div>\n              </div>\n    \n          </div>\n      </div>\n    </div>\n  </div>\n \n</div>\n<div class=\"weather-forcast\" *ngIf=\"false\">\n  <div class=\"row\">\n      <div class=\"col-md-3\">\n          <div class=\"weather-forcast_left\">\n              <span class=\"title\">\n                  Tuesday, 12 April 2022\n              </span>\n              <div class=\"d-flex  align-items-center\">\n                  <div>\n                      <div class=\"d-flex align-items-center\">\n                          <img src=\"assets/images/arrow-weather.svg\">\n                          <p class=\"m-0 pl-1\">26°C</p>\n                      </div>\n                      <div class=\"d-flex align-items-center\">\n                          <img class=\"down-img\" src=\"assets/images/arrow-weather.svg\">\n                          <p class=\"m-0 pl-1\">16°C</p>\n                      </div>\n                  </div>\n                  <div class=\"ml-3\">\n                      <span>22°C</span>\n                  </div>\n              </div>\n          </div>\n      </div>\n      <div class=\"col-md-2\">\n          <div class=\"weather-forcast_middle\">\n              <div class=\"d-flex \">\n                  <div class=\"d-flex\">\n                      <img src=\"assets/images/sunrise.svg\">\n                      <span class=\"title ml-2\">09:18 AM</span>\n                  </div>\n                  <div class=\"d-flex ml-4\">\n                      <img src=\"assets/images/sunset.svg\">\n                      <span class=\"title ml-2\">09:18 AM</span>\n                  </div>\n              </div>\n              <div class=\"mt-3\">\n                  <span class=\"title\">Driving in bad weather</span>\n                  <p class=\"time\">56h 32m</p>\n              </div>\n          </div>\n      </div>\n      <div class=\"col-md-3\">\n          <div class=\"weather-forcast_middle d-flex justify-content-around\">\n              <div >\n                  <span class=\"title\">Wind</span>\n                  <p class=\"time\">10.23 km/h</p>\n              </div>\n              <div >\n                  <span class=\"title\">Visibility</span>\n                  <p class=\"time\">14.83 km</p>\n              </div>\n          </div>\n          <div class=\"weather-forcast_middle d-flex justify-content-around\">\n              <div>\n                  <span class=\"title\">Humidity</span>\n                  <p class=\"time\">56 %</p>\n              </div>\n              <div >\n                  <span class=\"title\">UV</span>\n                  <p class=\"time\">Lowest</p>\n              </div>\n          </div>\n      </div>\n      <div class=\"col-md-4\">\n          <div class=\"weather-forcast_last\">\n              <h3>Hourly Forecast</h3>\n              <div class=\"d-flex justify-content-between\">\n                  <div *ngFor=\"let item of items\">\n                      <span>{{item.name}}</span><br />\n                      <img [src]=\"item.imagePath\">\n                  </div>\n\n              </div>\n\n          </div>\n\n      </div>\n  </div>\n</div>\n","\n<button mat-button class=\"close\" (click)=\"onNoClick()\"><img src=\"assets/images/Close.svg\"></button>\n<div mat-dialog-content>\n    <span class=\"chartZoom cursor\" (click)=\"resetZoom()\">Zoom Reset</span>\n    <div id='chartDiv'  style=\"height: 450px;\">\n        <canvas id=\"lineChart\"></canvas>\n    </div>\n    <ng-container >\n        <h5 class=\"profileNameDark text-center text-capitalize\">{{data.name == 'Speed score'? '': data.name}}</h5>\n    </ng-container>\n    \n</div>","import { Component, ElementRef, Input, OnInit } from \"@angular/core\";\nimport { Chart, registerables } from \"chart.js\";\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { LocalService } from \"src/app/services/local.service\";\nimport { MainService } from \"src/app/services/main.service\";\n\n@Component({\n  selector: \"app-bar-chart\",\n  templateUrl: \"./bar-chart.component.html\",\n  styleUrls: [\"./bar-chart.component.scss\"],\n})\nexport class BarChartComponent implements OnInit {\n  @Input() id;\n\n  @Input() data = [];\n  @Input() label = [];\n  @Input() type;\n  yLabel: string;\n  text: string;\n  browsername: string;\n\n  constructor(\n    private elementRef: ElementRef,\n    private translate: TranslateService,\n    private localService: LocalService,\n    public service: MainService\n  ) {\n    Chart.register(...registerables);\n    this.browsername = this.service.detectBrowserName();\n  }\n\n  ngOnInit(): void {\n    if (this.label[0].includes(\"kmph\")) {\n      this.label.forEach((element, index) => {\n        if(element.split(\" \").length-1 > 1){\n          let arr:any=element.split(' ');\n\n        }\n      });\n    }\n    this.localService.getLang().subscribe((val) => {\n      if (this.data && this.label) {\n        setTimeout(() => {\n          this.newbarChart();\n        }, 200);\n      }\n    });\n    setTimeout(() => {\n      this.newbarChart();\n    }, 20);\n  }\n\n  barchartdata;\n  newbarChart() {\n    // console.log(this.id, this.data, this.label);\n    let label: any = [...this.label];\n    if (this.type == 1) {\n      this.translate.get(\"harshEvent\").subscribe((text: string) => {\n        this.text = text;\n      });\n      this.translate.get(\"ratio\").subscribe((text: string) => {\n        this.yLabel = text + \" %\";\n      });\n      label.map((x, i) => {\n        if (x == \"Speeding\") {\n          this.translate.get(\"speeding\").subscribe((text: string) => {\n            label[i] = text;\n          });\n        } else if (x == \"Idiling\") {\n          this.translate.get(\"idiling\").subscribe((text: string) => {\n            label[i] = text;\n          });\n        } else if (x == \"Harsh Acceleration\") {\n          this.translate.get(\"hardAcceleration\").subscribe((text: string) => {\n            label[i] = text;\n          });\n        } else if (x == \"Harsh Braking\") {\n          this.translate.get(\"hardBraking\").subscribe((text: string) => {\n            label[i] = text;\n          });\n        } else {\n          this.translate.get(\"harshCorner\").subscribe((text: string) => {\n            label[i] = text;\n          });\n        }\n      });\n    } else if (this.type == 2) {\n      this.translate.get(\"ratio\").subscribe((text: string) => {\n        this.yLabel = text + \" %\";\n      });\n      this.text = \"\";\n    } else if (this.type == 3) {\n      this.translate.get(\"speedEvent\").subscribe((text: string) => {\n        this.yLabel = text;\n      });\n      this.text = \"\";\n    } else if (this.type == 4) {\n      this.translate.get(\"brakingEvent\").subscribe((text: string) => {\n        this.yLabel = text;\n      });\n      this.text = \"\";\n    } else if (this.type == 5) {\n      this.translate.get(\"accEvent\").subscribe((text: string) => {\n        this.yLabel = text;\n      });\n      this.text = \"\";\n    } else if (this.type == 6) {\n      this.translate.get(\"cornerEvent\").subscribe((text: string) => {\n        this.yLabel = text;\n      });\n      this.text = \"\";\n    }\n\n    if(label[0].includes('kmph')){\n      this.translate.get(\"kmph\").subscribe((text: string) => {\n        label = label.map((x)=>{\n          x = x.split(' ')[0] + ' ' + text\n          return x;\n        })\n      });\n    }\n\n    let fontFamily = \"\";\n    let fontW = \"\";\n    if (this.browsername == \"safari\") {\n      fontFamily = \"ModernEra\";\n      fontW = \"600\";\n    } else {\n      fontFamily = \"ModernEra_Bold\";\n      fontW = \"700\";\n    }\n\n    let htmlRef = this.elementRef.nativeElement.querySelector(`#${this.id}`);\n    if (this.barchartdata) this.barchartdata.destroy();\n    let _this = this;\n\n    this.barchartdata = new Chart(htmlRef, {\n      type: \"bar\",\n      data: {\n        labels: label || [\n          \"81 - 100+ kmph\",\n          \"71 - 80 kmph\",\n          \"50 - 70 kmph\",\n          \"00 - 30 kmph\",\n        ],\n        datasets: [\n          {\n            label: this.text,\n            data: this.data || [20, 30, 25, 54, 24],\n            backgroundColor: [\n              \"#46E18C\",\n              \"#46E18C\",\n              \"#46E18C\",\n              \"#46E18C\",\n              \"#46E18C\",\n            ],\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            display: false,\n            position: \"top\",\n          },\n          title: {\n            display: false,\n          },\n          datalabels: {\n            font: {\n              size: 10,\n              family: \"ModernEra_Bold\",\n            },\n            anchor: \"end\",\n            align: \"end\",\n            color: \"#001E50\",\n            formatter: function (value, context) {\n              return _this.service.convertToDutch(value);\n            },\n          },\n        },\n        scales: {\n          x: {\n            display: true,\n            grid: {\n              drawOnChartArea: false,\n            },\n            ticks: {\n              callback: function (index, labels) {\n                if (/\\s/.test(label[index])) {\n                  return label[index].split(\" \");\n                } else {\n                  return label[index];\n                }\n              },\n              color: \"#001E50\",\n              font: {\n                size: 10,\n                family: fontFamily,\n                weight: fontW,\n              },\n            },\n          },\n          y: {\n            beginAtZero: true,\n            ticks: {\n              color: \"#001E50\",\n              font: {\n                size: 12,\n                family: fontFamily,\n                weight: fontW,\n              },\n              callback: function (value, index, values) {\n                return Math.round(Number(value));\n              },\n            },\n            title: {\n              display: true,\n              text: this.yLabel,\n              color: \"#667280\",\n              font: {\n                size: 10,\n                family: \"ModernEra\",\n                weight: \"700\",\n              },\n            },\n            grid: {\n              drawOnChartArea: false,\n            },\n            max: Math.max(...this.data) * 1.1,\n          },\n        },\n      },\n      plugins: [ChartDataLabels],\n    });\n  }\n}\n","<div class=\"speedChart\" style=\"height: 270px\">\n  <canvas [id]=\"id\"></canvas>\n</div>"]}